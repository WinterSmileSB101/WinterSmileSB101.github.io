<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans,zh-hk,en,fr-FR,ru,de,ja,id,ko,default">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Android,JAVA,Unity3D,C#,javaScript,开发者,程序猿,极客,编程,开源,IT网站,Developer,Programmer,Coder,Geek,html,用户体验,Node.js" />





  <link rel="alternate" href="http://blog.csdn.net/qq_21265915/rss/list" title="WinterSmileSB101 的个人房间" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="成都工业学院14级，学习了各种后台技能，对前端也甚是抱有好感，准备再入坑前端。">
<meta property="og:type" content="website">
<meta property="og:title" content="WinterSmileSB101 的个人房间">
<meta property="og:url" content="http://WinterSmileSB101.online/page/3/index.html">
<meta property="og:site_name" content="WinterSmileSB101 的个人房间">
<meta property="og:description" content="成都工业学院14级，学习了各种后台技能，对前端也甚是抱有好感，准备再入坑前端。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="WinterSmileSB101 的个人房间">
<meta name="twitter:description" content="成都工业学院14级，学习了各种后台技能，对前端也甚是抱有好感，准备再入坑前端。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://WinterSmileSB101.online/page/3/"/>





  <title> WinterSmileSB101 的个人房间 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">WinterSmileSB101 的个人房间</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">胆小认生，不易相处</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://WinterSmileSB101.online/2017/03/22/Android利用Gson生成或解析json/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WinterSmileSB101">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WinterSmileSB101 的个人房间">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/Android利用Gson生成或解析json/" itemprop="url">
                  Android利用Gson生成或解析json
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-22T15:33:27+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>版权声明：本文为 wintersmilesb101 -（个人独立博客– <a href="http://wintersmilesb101.online">http://wintersmilesb101.online</a> 欢迎访问）博主转载文章，<a href="http://www.2cto.com/kf/201503/381907.html" target="_blank" rel="external">原文地址</a>。</p>
</blockquote>
<h4 id="一、单个对象生成json-生成以下类，该怎么生成呢？"><a href="#一、单个对象生成json-生成以下类，该怎么生成呢？" class="headerlink" title="一、单个对象生成json,生成以下类，该怎么生成呢？"></a>一、单个对象生成json,生成以下类，该怎么生成呢？</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">"createDate"</span>: <span class="string">"2015-02-01 10:39:50"</span>,</div><div class="line">    <span class="string">"id"</span>: <span class="string">"1"</span>,</div><div class="line">    <span class="string">"name"</span>: <span class="string">"传说之美"</span>,</div><div class="line">    <span class="string">"password"</span>: <span class="string">"123456"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="先定义一个account类-属性有id、name、password、createDate。"><a href="#先定义一个account类-属性有id、name、password、createDate。" class="headerlink" title="先定义一个account类,属性有id、name、password、createDate。"></a>先定义一个account类,属性有id、name、password、createDate。</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> String id;</div><div class="line">    <span class="keyword">private</span> String password;</div><div class="line">    <span class="keyword">private</span> String name;</div><div class="line">    <span class="keyword">private</span> String createDate;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Account</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Account</span><span class="params">(String id, String password, String name, String createDate)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>();</div><div class="line">        <span class="keyword">this</span>.id = id;</div><div class="line">        <span class="keyword">this</span>.password = password;</div><div class="line">        <span class="keyword">this</span>.name = name;</div><div class="line">        <span class="keyword">this</span>.createDate = createDate;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> id;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(String id)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.id = id;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> password;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.password = password;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> name;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.name = name;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCreateDate</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> createDate;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCreateDate</span><span class="params">(String createDate)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.createDate = createDate;</div><div class="line">    &#125;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"Account [id="</span> + id + <span class="string">", password="</span> + password + <span class="string">", name="</span> + name + <span class="string">", createDate="</span> + createDate + <span class="string">"]\n\n"</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="定义好这个类，就可以利用Gson生成json字符串了。"><a href="#定义好这个类，就可以利用Gson生成json字符串了。" class="headerlink" title="定义好这个类，就可以利用Gson生成json字符串了。"></a>定义好这个类，就可以利用Gson生成json字符串了。</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 生成account对象</span></div><div class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd hh:mm:ss"</span>);</div><div class="line">Account account = <span class="keyword">new</span> Account(<span class="string">"1"</span>, <span class="string">"123456"</span>, <span class="string">"传说之美"</span>, sdf.format(<span class="keyword">new</span> Date()));</div><div class="line"></div><div class="line"><span class="comment">// 利用gson对象生成json字符串</span></div><div class="line">Gson gson = <span class="keyword">new</span> Gson();</div><div class="line">String jsonString = gson.toJson(account);</div><div class="line">        Log.i(<span class="string">""</span>, jsonString);</div></pre></td></tr></table></figure>
<h4 id="二、解析json字符串为单个对象-在上面已生成了jsonString，那如何将其解析为单个对象，很简单。"><a href="#二、解析json字符串为单个对象-在上面已生成了jsonString，那如何将其解析为单个对象，很简单。" class="headerlink" title="二、解析json字符串为单个对象,在上面已生成了jsonString，那如何将其解析为单个对象，很简单。"></a>二、解析json字符串为单个对象,在上面已生成了jsonString，那如何将其解析为单个对象，很简单。</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 利用gson解析json字符串为单个对象</span></div><div class="line">Account account1 = gson.fromJson(jsonString, Account.class);</div><div class="line">Log.i(<span class="string">""</span>, account1.toString());</div></pre></td></tr></table></figure>
<h4 id="三、生成单个对象的json数组-什么是json数组，类似下面的"><a href="#三、生成单个对象的json数组-什么是json数组，类似下面的" class="headerlink" title="三、生成单个对象的json数组,什么是json数组，类似下面的"></a>三、生成单个对象的json数组,什么是json数组，类似下面的</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">    &#123;</div><div class="line">        <span class="string">"id"</span>: <span class="string">"2"</span>,</div><div class="line">        <span class="string">"createDate"</span>: <span class="string">"2015-02-01 11:21:27"</span>,</div><div class="line">        <span class="string">"password"</span>: <span class="string">"123456"</span>,</div><div class="line">        <span class="string">"name"</span>: <span class="string">"传说"</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">        <span class="string">"id"</span>: <span class="string">"2"</span>,</div><div class="line">        <span class="string">"createDate"</span>: <span class="string">"2015-02-01 11:21:27"</span>,</div><div class="line">        <span class="string">"password"</span>: <span class="string">"123456"</span>,</div><div class="line">        <span class="string">"name"</span>: <span class="string">"之美"</span></div><div class="line">    &#125;</div><div class="line">]</div></pre></td></tr></table></figure>
<h4 id="生成json数组代码如下"><a href="#生成json数组代码如下" class="headerlink" title="生成json数组代码如下"></a>生成json数组代码如下</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">Account account2 = <span class="keyword">new</span> Account(<span class="string">"2"</span>, <span class="string">"123456"</span>, <span class="string">"传说"</span>, sdf.format(<span class="keyword">new</span> Date()));</div><div class="line">Account account3 = <span class="keyword">new</span> Account(<span class="string">"2"</span>, <span class="string">"123456"</span>, <span class="string">"之美"</span>, sdf.format(<span class="keyword">new</span> Date()));</div><div class="line">List&lt;Account&gt; accountList = <span class="keyword">new</span> ArrayList&lt;Account&gt;();</div><div class="line">accountList.add(account2);</div><div class="line">accountList.add(account3);</div><div class="line"></div><div class="line"></div><div class="line">JSONArray accountArray = <span class="keyword">new</span> JSONArray();</div><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; accountList.size(); i++) &#123;</div><div class="line">    String accountStr = gson.toJson(accountList.get(i));</div><div class="line">    JSONObject accountObject;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        accountObject = <span class="keyword">new</span> JSONObject(accountStr);</div><div class="line">        accountArray.put(i, accountObject);</div><div class="line">    &#125; <span class="keyword">catch</span> (JSONException e) &#123;</div><div class="line">        e.printStackTrace();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">Log.i(<span class="string">""</span>, accountArray.toString());</div></pre></td></tr></table></figure>
<h4 id="四、由多个单个对象的json数组解析为对个单个对象-多个单个对象组成的json数组解析如下"><a href="#四、由多个单个对象的json数组解析为对个单个对象-多个单个对象组成的json数组解析如下" class="headerlink" title="四、由多个单个对象的json数组解析为对个单个对象,多个单个对象组成的json数组解析如下"></a>四、由多个单个对象的json数组解析为对个单个对象,多个单个对象组成的json数组解析如下</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 解析json数组</span></div><div class="line">List&lt;Account&gt; accountList2 = <span class="keyword">new</span> ArrayList&lt;Account&gt;();</div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;accountArray.length(); i++)&#123;</div><div class="line">    JSONObject jsonObject = <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        jsonObject = accountArray.getJSONObject(i);</div><div class="line">    &#125; <span class="keyword">catch</span> (JSONException e) &#123;</div><div class="line">        e.printStackTrace();</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(jsonObject != <span class="keyword">null</span>)&#123;</div><div class="line">        Account tempAccount = gson.fromJson(jsonObject.toString(), Account.class);</div><div class="line">        accountList2.add(tempAccount);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">Log.i(<span class="string">"accountList2"</span>, accountList2.toString());</div></pre></td></tr></table></figure>
<h3 id="或者用更快捷的转化方法"><a href="#或者用更快捷的转化方法" class="headerlink" title="或者用更快捷的转化方法"></a>或者用更快捷的转化方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Account[] accountArrays = <span class="keyword">new</span> Gson().fromJson(accountArray.toString(), Account[].class);</div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;accountArrays.length;i++)&#123;</div><div class="line">    Log.i(<span class="string">"accountArrays"</span>,accountArrays[i].toString());</div><div class="line">&#125;</div><div class="line"><span class="comment">// 转化为List</span></div><div class="line">List&lt;Account&gt; foosList = Arrays.asList(accountArrays);</div><div class="line"><span class="comment">// 更快捷地解析成List</span></div><div class="line">Type listType = <span class="keyword">new</span> TypeToken&lt;ArrayList&lt;Account&gt;&gt;()&#123;&#125;.getType();</div><div class="line">ArrayList&lt;Account&gt; accsList = <span class="keyword">new</span> Gson().fromJson(accountArray.toString(), listType);</div><div class="line">Log.i(<span class="string">"accsList"</span>,accsList.toString());</div></pre></td></tr></table></figure>
<h4 id="五、生成一个对象嵌套对象的json-嵌套的json类似如下"><a href="#五、生成一个对象嵌套对象的json-嵌套的json类似如下" class="headerlink" title="五、生成一个对象嵌套对象的json,嵌套的json类似如下"></a>五、生成一个对象嵌套对象的json,嵌套的json类似如下</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">"member"</span>: &#123;</div><div class="line">        <span class="string">"id"</span>: <span class="string">"4"</span>,</div><div class="line">        <span class="string">"name"</span>: <span class="string">"我是传说"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="string">"id"</span>: <span class="string">"4"</span>,</div><div class="line">    <span class="string">"createDate"</span>: <span class="string">"2015-02-02 12:03:32"</span>,</div><div class="line">    <span class="string">"password"</span>: <span class="string">"888888"</span>,</div><div class="line">    <span class="string">"name"</span>: <span class="string">"传说之美"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="生成这个json有2种方法。"><a href="#生成这个json有2种方法。" class="headerlink" title="生成这个json有2种方法。"></a>生成这个json有2种方法。</h4><h5 id="1、再添加一个member类，像添加account类一样添加即可。"><a href="#1、再添加一个member类，像添加account类一样添加即可。" class="headerlink" title="1、再添加一个member类，像添加account类一样添加即可。"></a>1、再添加一个member类，像添加account类一样添加即可。</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Member</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> String id;</div><div class="line">    <span class="keyword">private</span> String name;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Member</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Member</span><span class="params">(String id, String name)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>();</div><div class="line">        <span class="keyword">this</span>.id = id;</div><div class="line">        <span class="keyword">this</span>.name = name;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> id;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(String id)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.id = id;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> name;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.name = name;</div><div class="line">    &#125;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"Member [id="</span> + id + <span class="string">", name="</span> + name + <span class="string">"]\n\n"</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="生成代码如下"><a href="#生成代码如下" class="headerlink" title="生成代码如下"></a>生成代码如下</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 生成对象嵌套对象的json</span></div><div class="line">Account account4 = <span class="keyword">new</span> Account(<span class="string">"4"</span>, <span class="string">"888888"</span>, <span class="string">"传说之美"</span>, sdf.format(<span class="keyword">new</span> Date()));</div><div class="line">Member member = <span class="keyword">new</span> Member(<span class="string">"4"</span>, <span class="string">"我是传说"</span>);</div><div class="line">String accountStr = gson.toJson(account4);</div><div class="line">String memberStr = gson.toJson(member);</div><div class="line">JSONObject object = <span class="keyword">null</span>;</div><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">    JSONObject memberObject = <span class="keyword">new</span> JSONObject(memberStr);</div><div class="line">    object = <span class="keyword">new</span> JSONObject(accountStr);</div><div class="line">    object.put(<span class="string">"member"</span>, memberObject);    </div><div class="line">&#125; <span class="keyword">catch</span> (JSONException e) &#123;</div><div class="line">    e.printStackTrace();</div><div class="line">&#125;</div><div class="line">Log.i(<span class="string">""</span>, object.toString());</div></pre></td></tr></table></figure>
<h4 id="六、解析对象嵌套对象的json"><a href="#六、解析对象嵌套对象的json" class="headerlink" title="六、解析对象嵌套对象的json"></a>六、解析对象嵌套对象的json</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">Account account5 = gson.fromJson(object.toString(), Account.class);</div><div class="line">Log.i(<span class="string">"解析对象嵌套对象的json"</span>, account5.toString());</div><div class="line"><span class="comment">// 这里用isNull来判断是否存在这个object，存在就拿出member的JSONObject</span></div><div class="line">JSONObject memberObject = <span class="keyword">null</span>;</div><div class="line"><span class="keyword">if</span>(!object.isNull(<span class="string">"member"</span>))&#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        memberObject = object.getJSONObject(<span class="string">"member"</span>);</div><div class="line">    &#125; <span class="keyword">catch</span> (JSONException e) &#123;</div><div class="line">        e.printStackTrace();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">Member member5 = <span class="keyword">null</span>;</div><div class="line"><span class="keyword">if</span>(<span class="keyword">null</span> != memberObject)&#123;</div><div class="line">    member5 = gson.fromJson(memberObject.toString(), Member.class);</div><div class="line">    Log.i(<span class="string">"解析对象嵌套对象的json"</span>, member5.toString());</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="7、另外一种解析对象嵌套对象的json-定义一个类"><a href="#7、另外一种解析对象嵌套对象的json-定义一个类" class="headerlink" title="7、另外一种解析对象嵌套对象的json,定义一个类"></a>7、另外一种解析对象嵌套对象的json,定义一个类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountObject</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> String id;</div><div class="line">    <span class="keyword">private</span> String password;</div><div class="line">    <span class="keyword">private</span> String name;</div><div class="line">    <span class="keyword">private</span> String createDate;</div><div class="line">    <span class="keyword">private</span> MemberObject memberObject = <span class="keyword">new</span> MemberObject();</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MemberObject</span> </span>&#123;</div><div class="line">        <span class="keyword">private</span> String id;</div><div class="line">        <span class="keyword">private</span> String name;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="string">"MemberObject [id="</span> + id + <span class="string">", name="</span> + name+ <span class="string">"]\n\n"</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"AccountObject [id="</span> + id + <span class="string">", password="</span> + password + <span class="string">", name="</span> + name + <span class="string">", createDate="</span> + createDate + <span class="string">","</span>+ memberObject.toString() + <span class="string">"]\n\n"</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="生成json并解析"><a href="#生成json并解析" class="headerlink" title="生成json并解析"></a>生成json并解析</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">    JSONObject mObject = <span class="keyword">new</span> JSONObject(memberStr);</div><div class="line">    object = <span class="keyword">new</span> JSONObject(accountStr);</div><div class="line">    object.put(<span class="string">"memberObject"</span>, mObject);       </div><div class="line">&#125; <span class="keyword">catch</span> (JSONException e) &#123;</div><div class="line">    e.printStackTrace();</div><div class="line">&#125;</div><div class="line">AccountObject accountObject = gson.fromJson(object.toString(), AccountObject.class);</div><div class="line">Log.i(<span class="string">"accountObject"</span>, accountObject.toString());</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://WinterSmileSB101.online/2017/03/22/17开年第一篇活动传递对象/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WinterSmileSB101">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WinterSmileSB101 的个人房间">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/17开年第一篇活动传递对象/" itemprop="url">
                  17开年第一篇Activity之间传递 List<T> 以及 T 对象类型数据的方法
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-22T15:25:09+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/Android-实践/" itemprop="url" rel="index">
                    <span itemprop="name">Android 实践</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>版权声明：本文为 wintersmilesb101 -（个人独立博客– <a href="http://wintersmilesb101.online">http://wintersmilesb101.online</a> 欢迎访问）博主原创文章，未经博主允许不得转载。</p>
</blockquote>
<h4 id="现在转眼都十三了，大家都工作了，自己确还没有在家里闲得慌于是就做个App，谁知道就遇到了Activity间传递实例以及List数据的问题。网上同类型的文章很多，我写只是为了做个笔记预防忘记（其他的我觉得进入不了状态，还是自己的思维好理解一些）。"><a href="#现在转眼都十三了，大家都工作了，自己确还没有在家里闲得慌于是就做个App，谁知道就遇到了Activity间传递实例以及List数据的问题。网上同类型的文章很多，我写只是为了做个笔记预防忘记（其他的我觉得进入不了状态，还是自己的思维好理解一些）。" class="headerlink" title="现在转眼都十三了，大家都工作了，自己确还没有在家里闲得慌于是就做个App，谁知道就遇到了Activity间传递实例以及List数据的问题。网上同类型的文章很多，我写只是为了做个笔记预防忘记（其他的我觉得进入不了状态，还是自己的思维好理解一些）。"></a>现在转眼都十三了，大家都工作了，自己确还没有在家里闲得慌于是就做个App，谁知道就遇到了Activity间传递实例以及List<t>数据的问题。网上同类型的文章很多，我写只是为了做个笔记预防忘记（其他的我觉得进入不了状态，还是自己的思维好理解一些）。</t></h4><h4 id="废话不多说下面正题。"><a href="#废话不多说下面正题。" class="headerlink" title="废话不多说下面正题。"></a>废话不多说下面正题。</h4><h4 id="要实现上面的需求有几种方式："><a href="#要实现上面的需求有几种方式：" class="headerlink" title="要实现上面的需求有几种方式："></a>要实现上面的需求有几种方式：</h4><h4 id="1-定义全局静态变量，由一个静态变量集合类管理，至于安全方面，可以把控访问方式，比如验证访问，不过相对来说感觉比较麻烦。"><a href="#1-定义全局静态变量，由一个静态变量集合类管理，至于安全方面，可以把控访问方式，比如验证访问，不过相对来说感觉比较麻烦。" class="headerlink" title="1.定义全局静态变量，由一个静态变量集合类管理，至于安全方面，可以把控访问方式，比如验证访问，不过相对来说感觉比较麻烦。"></a>1.定义全局静态变量，由一个静态变量集合类管理，至于安全方面，可以把控访问方式，比如验证访问，不过相对来说感觉比较麻烦。</h4><h4 id="2-Application中设置一个属性，公开读取。"><a href="#2-Application中设置一个属性，公开读取。" class="headerlink" title="2. Application中设置一个属性，公开读取。"></a>2. Application中设置一个属性，公开读取。</h4><h4 id="3-使用Serializable序列化我们需要传递的数据，再通过Intent的putExtra-name-value-方法添加到Intent中，再接收活动中使用Intent的getSerializableExtra-name-方法获取到相对应数据。"><a href="#3-使用Serializable序列化我们需要传递的数据，再通过Intent的putExtra-name-value-方法添加到Intent中，再接收活动中使用Intent的getSerializableExtra-name-方法获取到相对应数据。" class="headerlink" title="3.使用Serializable序列化我们需要传递的数据，再通过Intent的putExtra(name,value);方法添加到Intent中，再接收活动中使用Intent的getSerializableExtra(name);方法获取到相对应数据。"></a>3.使用Serializable序列化我们需要传递的数据，再通过Intent的putExtra(name,value);方法添加到Intent中，再接收活动中使用Intent的getSerializableExtra(name);方法获取到相对应数据。</h4><h4 id="下面我们就试试第三种："><a href="#下面我们就试试第三种：" class="headerlink" title="下面我们就试试第三种："></a>下面我们就试试第三种：</h4><h4 id="直接上代码（需要传递的数据的类定义需要修改，让他有Serializable接口，才能实现数据的序列化）"><a href="#直接上代码（需要传递的数据的类定义需要修改，让他有Serializable接口，才能实现数据的序列化）" class="headerlink" title="直接上代码（需要传递的数据的类定义需要修改，让他有Serializable接口，才能实现数据的序列化）"></a>直接上代码（需要传递的数据的类定义需要修改，让他有Serializable接口，才能实现数据的序列化）</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> winter.zxb.smilesb101.easysyrinx.Data.SyrinxInfo;  </div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.Serializable;  </div><div class="line"><span class="keyword">import</span> java.util.ArrayList;  </div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * 项目名称：EasySyrinx</div><div class="line"> * 类描述：希芸物品信息类，接口后面的是关键我们需要这个接口才能让数据序列化</div><div class="line"> * 创建人：SmileSB101</div><div class="line"> * 创建时间：2017/2/1 0001 22:29</div><div class="line"> * 修改人：Administrator</div><div class="line"> * 修改时间：2017/2/1 0001 22:29</div><div class="line"> * 修改备注：</div><div class="line"> */  </div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SyrinxItem</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;  </div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 用于进行键值对封装时作为键</div><div class="line">     */  </div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String NAME_STRING = <span class="string">"name"</span>;  </div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String CODE_STRING = <span class="string">"code"</span>;  </div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String KIND_STRING = <span class="string">"kind"</span>;  </div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String SERIES_STRING = <span class="string">"series"</span>;  </div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String IN_PRICE_STRING = <span class="string">"in_price"</span>;  </div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String OUT_PRICE_STRING = <span class="string">"out_price"</span>;  </div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String INTRODUCE_STRING = <span class="string">"introduce"</span>;  </div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String TAGLIST_STRING = <span class="string">"tagList"</span>;  </div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String FREEPOST_STRING = <span class="string">"freePost"</span>;  </div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">private</span> String name;  </div><div class="line">    <span class="keyword">private</span> String code;  </div><div class="line">    <span class="keyword">private</span> String kind;  </div><div class="line">    <span class="keyword">private</span> String format;  </div><div class="line">    <span class="keyword">private</span> String series;  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">float</span> in_price;  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">float</span> out_price;  </div><div class="line">    <span class="keyword">private</span> String introduce;  </div><div class="line">    <span class="keyword">private</span> ArrayList&lt;String&gt; tagList;  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> freePost;  </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SyrinxItem</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="keyword">this</span>.tagList = <span class="keyword">new</span> ArrayList&lt;&gt;();  </div><div class="line">        <span class="keyword">this</span>.in_price = <span class="number">0</span>;  </div><div class="line">        <span class="keyword">this</span>.out_price = <span class="number">0</span>;  </div><div class="line">        freePost = <span class="keyword">false</span>;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 全参数构造方法</div><div class="line">     * <span class="doctag">@param</span> code 商品编号</div><div class="line">     * <span class="doctag">@param</span> name 商品名称</div><div class="line">     * <span class="doctag">@param</span> kind 商品种类</div><div class="line">     * <span class="doctag">@param</span> format 商品规格</div><div class="line">     * <span class="doctag">@param</span> series 商品系列</div><div class="line">     * <span class="doctag">@param</span> in_price 商品</div><div class="line">     * <span class="doctag">@param</span> out_price 卖价</div><div class="line">     * <span class="doctag">@param</span> introduce 介绍</div><div class="line">     * <span class="doctag">@param</span> tagList 标签列表</div><div class="line">     * <span class="doctag">@param</span> freePost 包邮</div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SyrinxItem</span><span class="params">(String code,String name,String kind,String format,String series,<span class="keyword">float</span> in_price,<span class="keyword">float</span> out_price,String introduce,ArrayList&lt;String&gt; tagList,<span class="keyword">boolean</span> freePost)</span></span>&#123;  </div><div class="line">        <span class="keyword">this</span>.code = code;  </div><div class="line">        <span class="keyword">this</span>.name = name;  </div><div class="line">        <span class="keyword">this</span>.kind = kind;  </div><div class="line">        <span class="keyword">this</span>.format = format;  </div><div class="line">        <span class="keyword">this</span>.series = series;  </div><div class="line">        <span class="keyword">this</span>.in_price = in_price;  </div><div class="line">        <span class="keyword">this</span>.out_price = out_price;  </div><div class="line">        <span class="keyword">this</span>.introduce = introduce;  </div><div class="line">        <span class="keyword">this</span>.tagList = tagList;  </div><div class="line">        <span class="keyword">this</span>.freePost = freePost;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getFormat</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="keyword">return</span> format;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFormat</span><span class="params">(String format)</span></span>&#123;  </div><div class="line">        <span class="keyword">this</span>.format = format;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取是否包邮</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">isFreePost</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="keyword">return</span> freePost?<span class="string">"包邮"</span>:<span class="string">"不包邮"</span>;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置是否包邮</div><div class="line">     * <span class="doctag">@param</span> freePost</div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFreePost</span><span class="params">(<span class="keyword">boolean</span> freePost)</span></span>&#123;  </div><div class="line">        <span class="keyword">this</span>.freePost = freePost;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取系列名称</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSeries</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="keyword">return</span> series;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置系列名称</div><div class="line">     * <span class="doctag">@param</span> series</div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSeries</span><span class="params">(String series)</span></span>&#123;  </div><div class="line">        <span class="keyword">this</span>.series = series;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取类型（商品颜色或者分类等）</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getKind</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="keyword">return</span> kind;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置类型（商品颜色或者分类等）</div><div class="line">     * <span class="doctag">@param</span> kind</div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setKind</span><span class="params">(String kind)</span></span>&#123;  </div><div class="line">        <span class="keyword">this</span>.kind = kind;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取卖出价格</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getOut_price</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="keyword">return</span> out_price;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置卖出价格</div><div class="line">     * <span class="doctag">@param</span> out_price</div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOut_price</span><span class="params">(<span class="keyword">float</span> out_price)</span></span>&#123;  </div><div class="line">        <span class="keyword">this</span>.out_price = out_price;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取物品名称</div><div class="line">     * <span class="doctag">@return</span> 物品名称</div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="keyword">return</span> name;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置物品名称</div><div class="line">     * <span class="doctag">@param</span> name 物品民称</div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;  </div><div class="line">        <span class="keyword">this</span>.name = name;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取商品编号</div><div class="line">     * <span class="doctag">@return</span> 商品编号</div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCode</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="keyword">return</span> code;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置商品编号</div><div class="line">     * <span class="doctag">@param</span> code</div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCode</span><span class="params">(String code)</span></span>&#123;  </div><div class="line">        <span class="keyword">this</span>.code = code;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取商品进价</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getIn_price</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="keyword">return</span> in_price;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置商品进价</div><div class="line">     * <span class="doctag">@param</span> in_price</div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setIn_price</span><span class="params">(<span class="keyword">float</span> in_price)</span></span>&#123;  </div><div class="line">        <span class="keyword">this</span>.in_price = in_price;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取商品介绍</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getIntroduce</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="keyword">return</span> introduce;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置商品介绍</div><div class="line">     * <span class="doctag">@param</span> introduce</div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setIntroduce</span><span class="params">(String introduce)</span></span>&#123;  </div><div class="line">        <span class="keyword">this</span>.introduce = introduce;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取商品标签（特性）</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">getTagList</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="keyword">return</span> tagList;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置商品特性</div><div class="line">     * <span class="doctag">@param</span> tagList</div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTagList</span><span class="params">(ArrayList&lt;String&gt; tagList)</span></span>&#123;  </div><div class="line">        <span class="keyword">this</span>.tagList = tagList;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置商品特性</div><div class="line">     * <span class="doctag">@param</span> tag</div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTagList</span><span class="params">(String tag)</span>  </span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">this</span>.tagList.add(tag);  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取此实例的json字符串</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */  </div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">ToJsonString</span><span class="params">()</span>  </span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">return</span> <span class="string">"Syrinx ["</span>+NAME_STRING+<span class="string">"="</span>+getName()+<span class="string">","</span>  </div><div class="line">                +CODE_STRING+<span class="string">"="</span>+getCode()+<span class="string">","</span>  </div><div class="line">                +KIND_STRING+<span class="string">"="</span>+getKind()+<span class="string">","</span>  </div><div class="line">                +SERIES_STRING+<span class="string">"="</span>+getSeries()+<span class="string">","</span>  </div><div class="line">                +IN_PRICE_STRING+<span class="string">"="</span>+getIn_price()+<span class="string">","</span>  </div><div class="line">                +OUT_PRICE_STRING+<span class="string">"="</span>+getOut_price()+<span class="string">","</span>  </div><div class="line">                +INTRODUCE_STRING+<span class="string">"="</span>+getIntroduce()+<span class="string">","</span>  </div><div class="line">                +TAGLIST_STRING+<span class="string">"="</span>+getTagList()+<span class="string">","</span>  </div><div class="line">                +freePost+<span class="string">"="</span>+isFreePost()+<span class="string">"]"</span>;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="上一个活动中-在这里list是ArrayList-当然里面存储了数据。series是另外一个序列化的单个对象。"><a href="#上一个活动中-在这里list是ArrayList-当然里面存储了数据。series是另外一个序列化的单个对象。" class="headerlink" title="上一个活动中,在这里list是ArrayList();当然里面存储了数据。series是另外一个序列化的单个对象。"></a>上一个活动中,在这里list是ArrayList<syrinxitem>();当然里面存储了数据。series是另外一个序列化的单个对象。</syrinxitem></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Intent intent = <span class="keyword">new</span> Intent(activity,SyrinxItemRecycleViewActivity.class);  </div><div class="line">                intent.putExtra(SyrinxItemRecycleViewActivity.SYRINXLIST_VALUE,list);  </div><div class="line">                intent.putExtra(SyrinxItemRecycleViewActivity.SYRINXSERIES_VALUE,series);  </div><div class="line">                activity.startActivity(intent);</div></pre></td></tr></table></figure>
<h4 id="接收的活动中-使用getIntet-获取到Intent，然后通过Intent中的getSerializableExtra-name-方法来获取到数据，注意强制类型转换。"><a href="#接收的活动中-使用getIntet-获取到Intent，然后通过Intent中的getSerializableExtra-name-方法来获取到数据，注意强制类型转换。" class="headerlink" title="接收的活动中,使用getIntet();获取到Intent，然后通过Intent中的getSerializableExtra(name);方法来获取到数据，注意强制类型转换。"></a>接收的活动中,使用getIntet();获取到Intent，然后通过Intent中的getSerializableExtra(name);方法来获取到数据，注意强制类型转换。</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> winter.zxb.smilesb101.easysyrinx.UI.Activity;  </div><div class="line"></div><div class="line"><span class="keyword">import</span> android.content.Context;  </div><div class="line"><span class="keyword">import</span> android.content.Intent;  </div><div class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;  </div><div class="line"><span class="keyword">import</span> android.os.Bundle;  </div><div class="line"><span class="keyword">import</span> android.support.v7.widget.LinearLayoutManager;  </div><div class="line"><span class="keyword">import</span> android.support.v7.widget.RecyclerView;  </div><div class="line"><span class="keyword">import</span> android.util.Log;  </div><div class="line"><span class="keyword">import</span> android.view.View;  </div><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.ArrayList;  </div><div class="line"></div><div class="line"><span class="keyword">import</span> winter.zxb.smilesb101.easysyrinx.Data.SyrinxInfo.SyrinxItem;  </div><div class="line"><span class="keyword">import</span> winter.zxb.smilesb101.easysyrinx.Data.SyrinxInfo.SyrinxItemRecycleViewAdapter;  </div><div class="line"><span class="keyword">import</span> winter.zxb.smilesb101.easysyrinx.Data.SyrinxInfo.SyrinxSeries;  </div><div class="line"><span class="keyword">import</span> winter.zxb.smilesb101.easysyrinx.R;  </div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * 希芸产品信息的展示活动</div><div class="line"> */  </div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SyrinxItemRecycleViewActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span></span>&#123;  </div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String SYRINXLIST_VALUE = <span class="string">"SYRINXLIST"</span>;  </div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String SYRINXSERIES_VALUE = <span class="string">"SYRINXSERIES"</span>;  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> String TAG = <span class="string">"SyrinxItemActivity"</span>;  </div><div class="line"></div><div class="line">    <span class="keyword">private</span> View rootView;  </div><div class="line">    <span class="keyword">private</span> RecyclerView recyclerView;  </div><div class="line">    <span class="keyword">private</span> Context context;  </div><div class="line">    <span class="keyword">private</span> SyrinxItemRecycleViewAdapter itemRecycleViewAdapter;  </div><div class="line">    <span class="keyword">private</span> SyrinxSeries syrinxSeries;  </div><div class="line">    <span class="keyword">private</span> ArrayList&lt;SyrinxItem&gt; syrinxItems;  </div><div class="line"></div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span>&#123;  </div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);  </div><div class="line">        setContentView(R.layout.syrinxitem_recycleview_layout);  </div><div class="line">        Intent intent = getIntent();  </div><div class="line">        syrinxItems = (ArrayList&lt;SyrinxItem&gt;)intent.getSerializableExtra(SYRINXLIST_VALUE);  </div><div class="line">        syrinxSeries = (SyrinxSeries)intent.getSerializableExtra(SYRINXSERIES_VALUE);  </div><div class="line"></div><div class="line">        recyclerView = (RecyclerView)findViewById(R.id.syrinxitem_layout_recycleView);  </div><div class="line">        LinearLayoutManager layoutmanager = <span class="keyword">new</span> LinearLayoutManager(<span class="keyword">this</span>);  </div><div class="line">        recyclerView.setLayoutManager(layoutmanager);  </div><div class="line">        itemRecycleViewAdapter = <span class="keyword">new</span> SyrinxItemRecycleViewAdapter(syrinxItems,<span class="keyword">this</span>);  </div><div class="line">        recyclerView.setAdapter(itemRecycleViewAdapter);  </div><div class="line">        Log.i(TAG,<span class="string">"onCreate: huodongchuangjian"</span>);  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="下面上效果图-主活动中：（点击任意一个item进入下个活动）"><a href="#下面上效果图-主活动中：（点击任意一个item进入下个活动）" class="headerlink" title="下面上效果图,主活动中：（点击任意一个item进入下个活动）"></a>下面上效果图,主活动中：（点击任意一个item进入下个活动）</h4><p><img src="http://img.blog.csdn.net/20170209150029848?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjEyNjU5MTU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="image"></p>
<h4 id="接收活动中：可以看到成功的接收到了来自上一个活动的List以及单个对象的数据"><a href="#接收活动中：可以看到成功的接收到了来自上一个活动的List以及单个对象的数据" class="headerlink" title="接收活动中：可以看到成功的接收到了来自上一个活动的List以及单个对象的数据"></a>接收活动中：可以看到成功的接收到了来自上一个活动的List<t>以及单个对象的数据</t></h4><p><img src="http://img.blog.csdn.net/20170209150034832?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjEyNjU5MTU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="image"></p>
<h3 id="总结：我们想要传递List或者某个实例对象数据很简单，只需要那个需要传递的实例定义时有接口Serializable，以及取数据的时候使用getSerializableExtra-name-方法就可以了。"><a href="#总结：我们想要传递List或者某个实例对象数据很简单，只需要那个需要传递的实例定义时有接口Serializable，以及取数据的时候使用getSerializableExtra-name-方法就可以了。" class="headerlink" title="总结：我们想要传递List或者某个实例对象数据很简单，只需要那个需要传递的实例定义时有接口Serializable，以及取数据的时候使用getSerializableExtra(name);方法就可以了。"></a><strong>总结：我们想要传递List<t>或者某个实例对象数据很简单，只需要那个需要传递的实例定义时有接口Serializable，以及取数据的时候使用getSerializableExtra(name);方法就可以了。</t></strong></h3>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://WinterSmileSB101.online/2017/03/22/拿来就用的圆形图片控件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WinterSmileSB101">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WinterSmileSB101 的个人房间">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/拿来就用的圆形图片控件/" itemprop="url">
                  Android 拿来就用的圆形图片控件
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-22T15:20:37+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>版权声明：本文为 wintersmilesb101 -（个人独立博客– <a href="http://wintersmilesb101.online">http://wintersmilesb101.online</a> 欢迎访问）博主原创文章，未经博主允许不得转载。</p>
</blockquote>
<h3 id="代码如下"><a href="#代码如下" class="headerlink" title="代码如下"></a>代码如下</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> winter.zxb.smilesb101.easysyrinx.UI.SelfView;  </div><div class="line"></div><div class="line"><span class="keyword">import</span> android.content.Context;  </div><div class="line"><span class="keyword">import</span> android.content.res.TypedArray;  </div><div class="line"><span class="keyword">import</span> android.graphics.Bitmap;  </div><div class="line"><span class="keyword">import</span> android.graphics.BitmapShader;  </div><div class="line"><span class="keyword">import</span> android.graphics.Canvas;  </div><div class="line"><span class="keyword">import</span> android.graphics.Color;  </div><div class="line"><span class="keyword">import</span> android.graphics.Matrix;  </div><div class="line"><span class="keyword">import</span> android.graphics.Paint;  </div><div class="line"><span class="keyword">import</span> android.graphics.RectF;  </div><div class="line"><span class="keyword">import</span> android.graphics.Shader;  </div><div class="line"><span class="keyword">import</span> android.graphics.drawable.BitmapDrawable;  </div><div class="line"><span class="keyword">import</span> android.graphics.drawable.ColorDrawable;  </div><div class="line"><span class="keyword">import</span> android.graphics.drawable.Drawable;  </div><div class="line"><span class="keyword">import</span> android.util.AttributeSet;  </div><div class="line"><span class="keyword">import</span> android.widget.ImageView;  </div><div class="line"></div><div class="line"><span class="keyword">import</span> winter.zxb.smilesb101.easysyrinx.R;  </div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Created by Administrator on 2016/6/30.</div><div class="line"> */  </div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoundImageView</span> <span class="keyword">extends</span> <span class="title">ImageView</span></span>&#123;  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ScaleType SCALE_TYPE = ScaleType.CENTER_CROP;  </div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Bitmap.Config BITMAP_CONFIG = Bitmap.Config.ARGB_8888;  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> COLORDRAWABLE_DIMENSION = <span class="number">1</span>;  </div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_BORDER_WIDTH = <span class="number">0</span>;  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_BORDER_COLOR = Color.BLACK;  </div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> RectF mDrawableRect = <span class="keyword">new</span> RectF();  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> RectF mBorderRect = <span class="keyword">new</span> RectF();  </div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Matrix mShaderMatrix = <span class="keyword">new</span> Matrix();  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Paint mBitmapPaint = <span class="keyword">new</span> Paint();  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Paint mBorderPaint = <span class="keyword">new</span> Paint();  </div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mBorderColor = DEFAULT_BORDER_COLOR;  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mBorderWidth = DEFAULT_BORDER_WIDTH;  </div><div class="line"></div><div class="line">    <span class="keyword">private</span> Bitmap mBitmap;  </div><div class="line">    <span class="keyword">private</span> BitmapShader mBitmapShader;  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mBitmapWidth;  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mBitmapHeight;  </div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">float</span> mDrawableRadius;  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">float</span> mBorderRadius;  </div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> mReady;  </div><div class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> mSetupPending;  </div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RoundImageView</span><span class="params">(Context context)</span></span>&#123;  </div><div class="line">        <span class="keyword">super</span>(context);  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RoundImageView</span><span class="params">(Context context,AttributeSet attrs)</span></span>&#123;  </div><div class="line">        <span class="keyword">this</span>(context,attrs,<span class="number">0</span>);  </div><div class="line"></div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RoundImageView</span><span class="params">(Context context,AttributeSet attrs,<span class="keyword">int</span> defStyle)</span></span>&#123;  </div><div class="line">        <span class="keyword">super</span>(context,attrs,defStyle);  </div><div class="line">        <span class="keyword">super</span>.setScaleType(SCALE_TYPE);  </div><div class="line">        TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.CircleImageView, defStyle, <span class="number">0</span>);  </div><div class="line"></div><div class="line">        mBorderWidth = a.getDimensionPixelSize(R.styleable.CircleImageView_border_width, DEFAULT_BORDER_WIDTH);  </div><div class="line">        mBorderColor = a.getColor(R.styleable.CircleImageView_border_color, DEFAULT_BORDER_COLOR);  </div><div class="line"></div><div class="line">        a.recycle();  </div><div class="line"></div><div class="line">        mReady = <span class="keyword">true</span>;  </div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mSetupPending) &#123;  </div><div class="line">            setup();  </div><div class="line">            mSetupPending = <span class="keyword">false</span>;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">public</span> ScaleType <span class="title">getScaleType</span><span class="params">()</span> </span>&#123;  </div><div class="line">        <span class="keyword">return</span> SCALE_TYPE;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setScaleType</span><span class="params">(ScaleType scaleType)</span> </span>&#123;  </div><div class="line">        <span class="keyword">if</span> (scaleType != SCALE_TYPE) &#123;  </div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(String.format(<span class="string">"ScaleType %s not supported."</span>, scaleType));  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDraw</span><span class="params">(Canvas canvas)</span> </span>&#123;  </div><div class="line">        <span class="keyword">if</span> (getDrawable() == <span class="keyword">null</span>) &#123;  </div><div class="line">            <span class="keyword">return</span>;  </div><div class="line">        &#125;  </div><div class="line"></div><div class="line">        canvas.drawCircle(getWidth() / <span class="number">2</span>, getHeight() / <span class="number">2</span>, mDrawableRadius, mBitmapPaint);  </div><div class="line">        canvas.drawCircle(getWidth() / <span class="number">2</span>, getHeight() / <span class="number">2</span>, mBorderRadius, mBorderPaint);  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onSizeChanged</span><span class="params">(<span class="keyword">int</span> w, <span class="keyword">int</span> h, <span class="keyword">int</span> oldw, <span class="keyword">int</span> oldh)</span> </span>&#123;  </div><div class="line">        <span class="keyword">super</span>.onSizeChanged(w, h, oldw, oldh);  </div><div class="line">        setup();  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBorderColor</span><span class="params">()</span> </span>&#123;  </div><div class="line">        <span class="keyword">return</span> mBorderColor;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBorderColor</span><span class="params">(<span class="keyword">int</span> borderColor)</span> </span>&#123;  </div><div class="line">        <span class="keyword">if</span> (borderColor == mBorderColor) &#123;  </div><div class="line">            <span class="keyword">return</span>;  </div><div class="line">        &#125;  </div><div class="line"></div><div class="line">        mBorderColor = borderColor;  </div><div class="line">        mBorderPaint.setColor(mBorderColor);  </div><div class="line">        invalidate();  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBorderWidth</span><span class="params">()</span> </span>&#123;  </div><div class="line">        <span class="keyword">return</span> mBorderWidth;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBorderWidth</span><span class="params">(<span class="keyword">int</span> borderWidth)</span> </span>&#123;  </div><div class="line">        <span class="keyword">if</span> (borderWidth == mBorderWidth) &#123;  </div><div class="line">            <span class="keyword">return</span>;  </div><div class="line">        &#125;  </div><div class="line"></div><div class="line">        mBorderWidth = borderWidth;  </div><div class="line">        setup();  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageBitmap</span><span class="params">(Bitmap bm)</span> </span>&#123;  </div><div class="line">        <span class="keyword">super</span>.setImageBitmap(bm);  </div><div class="line">        mBitmap = bm;  </div><div class="line">        setup();  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageDrawable</span><span class="params">(Drawable drawable)</span> </span>&#123;  </div><div class="line">        <span class="keyword">super</span>.setImageDrawable(drawable);  </div><div class="line">        mBitmap = getBitmapFromDrawable(drawable);  </div><div class="line">        setup();  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageResource</span><span class="params">(<span class="keyword">int</span> resId)</span> </span>&#123;  </div><div class="line">        <span class="keyword">super</span>.setImageResource(resId);  </div><div class="line">        mBitmap = getBitmapFromDrawable(getDrawable());  </div><div class="line">        setup();  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> Bitmap <span class="title">getBitmapFromDrawable</span><span class="params">(Drawable drawable)</span> </span>&#123;  </div><div class="line">        <span class="keyword">if</span> (drawable == <span class="keyword">null</span>) &#123;  </div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;  </div><div class="line">        &#125;  </div><div class="line"></div><div class="line">        <span class="keyword">if</span> (drawable <span class="keyword">instanceof</span> BitmapDrawable) &#123;  </div><div class="line">            <span class="keyword">return</span> ((BitmapDrawable) drawable).getBitmap();  </div><div class="line">        &#125;  </div><div class="line"></div><div class="line">        <span class="keyword">try</span> &#123;  </div><div class="line">            Bitmap bitmap;  </div><div class="line"></div><div class="line">            <span class="keyword">if</span> (drawable <span class="keyword">instanceof</span> ColorDrawable) &#123;  </div><div class="line">                bitmap = Bitmap.createBitmap(COLORDRAWABLE_DIMENSION, COLORDRAWABLE_DIMENSION, BITMAP_CONFIG);  </div><div class="line">            &#125; <span class="keyword">else</span> &#123;  </div><div class="line">                bitmap = Bitmap.createBitmap(drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight(), BITMAP_CONFIG);  </div><div class="line">            &#125;  </div><div class="line"></div><div class="line">            Canvas canvas = <span class="keyword">new</span> Canvas(bitmap);  </div><div class="line">            drawable.setBounds(<span class="number">0</span>, <span class="number">0</span>, canvas.getWidth(), canvas.getHeight());  </div><div class="line">            drawable.draw(canvas);  </div><div class="line">            <span class="keyword">return</span> bitmap;  </div><div class="line">        &#125; <span class="keyword">catch</span> (OutOfMemoryError e) &#123;  </div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;  </div><div class="line">        <span class="keyword">if</span> (!mReady) &#123;  </div><div class="line">            mSetupPending = <span class="keyword">true</span>;  </div><div class="line">            <span class="keyword">return</span>;  </div><div class="line">        &#125;  </div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mBitmap == <span class="keyword">null</span>) &#123;  </div><div class="line">            <span class="keyword">return</span>;  </div><div class="line">        &#125;  </div><div class="line"></div><div class="line">        mBitmapShader = <span class="keyword">new</span> BitmapShader(mBitmap, Shader.TileMode.CLAMP, Shader.TileMode.CLAMP);  </div><div class="line"></div><div class="line">        mBitmapPaint.setAntiAlias(<span class="keyword">true</span>);  </div><div class="line">        mBitmapPaint.setShader(mBitmapShader);  </div><div class="line"></div><div class="line">        mBorderPaint.setStyle(Paint.Style.STROKE);  </div><div class="line">        mBorderPaint.setAntiAlias(<span class="keyword">true</span>);  </div><div class="line">        mBorderPaint.setColor(mBorderColor);  </div><div class="line">        mBorderPaint.setStrokeWidth(mBorderWidth);  </div><div class="line"></div><div class="line">        mBitmapHeight = mBitmap.getHeight();  </div><div class="line">        mBitmapWidth = mBitmap.getWidth();  </div><div class="line"></div><div class="line">        mBorderRect.set(<span class="number">0</span>, <span class="number">0</span>, getWidth(), getHeight());  </div><div class="line">        mBorderRadius = Math.min((mBorderRect.height() - mBorderWidth) / <span class="number">2</span>, (mBorderRect.width() - mBorderWidth) / <span class="number">2</span>);  </div><div class="line"></div><div class="line">        mDrawableRect.set(mBorderWidth, mBorderWidth, mBorderRect.width() - mBorderWidth, mBorderRect.height() - mBorderWidth);  </div><div class="line">        mDrawableRadius = Math.min(mDrawableRect.height() / <span class="number">2</span>, mDrawableRect.width() / <span class="number">2</span>);  </div><div class="line"></div><div class="line">        updateShaderMatrix();  </div><div class="line">        invalidate();  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updateShaderMatrix</span><span class="params">()</span> </span>&#123;  </div><div class="line">        <span class="keyword">float</span> scale;  </div><div class="line">        <span class="keyword">float</span> dx = <span class="number">0</span>;  </div><div class="line">        <span class="keyword">float</span> dy = <span class="number">0</span>;  </div><div class="line"></div><div class="line">        mShaderMatrix.set(<span class="keyword">null</span>);  </div><div class="line"></div><div class="line">        <span class="keyword">if</span> (mBitmapWidth * mDrawableRect.height() &gt; mDrawableRect.width() * mBitmapHeight) &#123;  </div><div class="line">            scale = mDrawableRect.height() / (<span class="keyword">float</span>) mBitmapHeight;  </div><div class="line">            dx = (mDrawableRect.width() - mBitmapWidth * scale) * <span class="number">0.5f</span>;  </div><div class="line">        &#125; <span class="keyword">else</span> &#123;  </div><div class="line">            scale = mDrawableRect.width() / (<span class="keyword">float</span>) mBitmapWidth;  </div><div class="line">            dy = (mDrawableRect.height() - mBitmapHeight * scale) * <span class="number">0.5f</span>;  </div><div class="line">        &#125;  </div><div class="line"></div><div class="line">        mShaderMatrix.setScale(scale, scale);  </div><div class="line">        mShaderMatrix.postTranslate((<span class="keyword">int</span>) (dx + <span class="number">0.5f</span>) + mBorderWidth, (<span class="keyword">int</span>) (dy + <span class="number">0.5f</span>) + mBorderWidth);  </div><div class="line"></div><div class="line">        mBitmapShader.setLocalMatrix(mShaderMatrix);  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="那么，别急，现在直接使用是会报错的，我们需要在values文件夹里新建attrs-xml，并且增加以下代码"><a href="#那么，别急，现在直接使用是会报错的，我们需要在values文件夹里新建attrs-xml，并且增加以下代码" class="headerlink" title="那么，别急，现在直接使用是会报错的，我们需要在values文件夹里新建attrs.xml，并且增加以下代码"></a>那么，别急，现在直接使用是会报错的，我们需要在values文件夹里新建attrs.xml，并且增加以下代码</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;  </div><div class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">declare-styleable</span> <span class="attr">name</span>=<span class="string">"CircleImageView"</span>&gt;</span>  </div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">attr</span> <span class="attr">name</span>=<span class="string">"border_width"</span> <span class="attr">format</span>=<span class="string">"dimension"</span>/&gt;</span>  </div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">attr</span> <span class="attr">name</span>=<span class="string">"border_color"</span> <span class="attr">format</span>=<span class="string">"color"</span>/&gt;</span>  </div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">declare-styleable</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="就大功告成。使用方法是直接像是用ImageView一样使用就可以了"><a href="#就大功告成。使用方法是直接像是用ImageView一样使用就可以了" class="headerlink" title="就大功告成。使用方法是直接像是用ImageView一样使用就可以了"></a>就大功告成。使用方法是直接像是用ImageView一样使用就可以了</h3>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://WinterSmileSB101.online/2017/03/22/如何监听CollapsingToolbarLayout的展开与折叠/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WinterSmileSB101">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WinterSmileSB101 的个人房间">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/如何监听CollapsingToolbarLayout的展开与折叠/" itemprop="url">
                  如何监听CollapsingToolbarLayout的展开与折叠
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-22T15:15:47+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/Android-实战/" itemprop="url" rel="index">
                    <span itemprop="name">Android 实战</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>版权声明：本文为 wintersmilesb101 -（个人独立博客– <a href="http://wintersmilesb101.online">http://wintersmilesb101.online</a> 欢迎访问）博主转载文章，<a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2016/0619/4362.html" target="_blank" rel="external">原文地址</a>。</p>
</blockquote>
<h4 id="使用官方提供的-AppBarLayout-OnOffsetChangedListener就能实现了，不过要封装一下才好用。"><a href="#使用官方提供的-AppBarLayout-OnOffsetChangedListener就能实现了，不过要封装一下才好用。" class="headerlink" title="使用官方提供的 AppBarLayout.OnOffsetChangedListener就能实现了，不过要封装一下才好用。"></a>使用官方提供的 AppBarLayout.OnOffsetChangedListener就能实现了，不过要封装一下才好用。</h4><h4 id="自定义一个继承了-AppBarLayout-OnOffsetChangedListener的类，这里命名为AppBarStateChangeListener："><a href="#自定义一个继承了-AppBarLayout-OnOffsetChangedListener的类，这里命名为AppBarStateChangeListener：" class="headerlink" title="自定义一个继承了 AppBarLayout.OnOffsetChangedListener的类，这里命名为AppBarStateChangeListener："></a>自定义一个继承了 AppBarLayout.OnOffsetChangedListener的类，这里命名为AppBarStateChangeListener：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AppBarStateChangeListener</span> <span class="keyword">implements</span> <span class="title">AppBarLayout</span>.<span class="title">OnOffsetChangedListener</span> </span>&#123;  </div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> State &#123;  </div><div class="line">        EXPANDED,  </div><div class="line">        COLLAPSED,  </div><div class="line">        IDLE  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="keyword">private</span> State mCurrentState = State.IDLE;  </div><div class="line"></div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">onOffsetChanged</span><span class="params">(AppBarLayout appBarLayout, <span class="keyword">int</span> i)</span> </span>&#123;  </div><div class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;  </div><div class="line">            <span class="keyword">if</span> (mCurrentState != State.EXPANDED) &#123;  </div><div class="line">                onStateChanged(appBarLayout, State.EXPANDED);  </div><div class="line">            &#125;  </div><div class="line">            mCurrentState = State.EXPANDED;  </div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (Math.abs(i) &gt;= appBarLayout.getTotalScrollRange()) &#123;  </div><div class="line">            <span class="keyword">if</span> (mCurrentState != State.COLLAPSED) &#123;  </div><div class="line">                onStateChanged(appBarLayout, State.COLLAPSED);  </div><div class="line">            &#125;  </div><div class="line">            mCurrentState = State.COLLAPSED;  </div><div class="line">        &#125; <span class="keyword">else</span> &#123;  </div><div class="line">            <span class="keyword">if</span> (mCurrentState != State.IDLE) &#123;  </div><div class="line">                onStateChanged(appBarLayout, State.IDLE);  </div><div class="line">            &#125;  </div><div class="line">            mCurrentState = State.IDLE;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">onStateChanged</span><span class="params">(AppBarLayout appBarLayout, State state)</span></span>;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="然后这样使用它"><a href="#然后这样使用它" class="headerlink" title="然后这样使用它"></a>然后这样使用它</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">mAppBarLayout.addOnOffsetChangedListener(<span class="keyword">new</span> AppBarStateChangeListener() &#123;  </div><div class="line">            <span class="meta">@Override</span>  </div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStateChanged</span><span class="params">(AppBarLayout appBarLayout, State state)</span> </span>&#123;  </div><div class="line">                Log.d(<span class="string">"STATE"</span>, state.name());  </div><div class="line">                <span class="keyword">if</span>( state == State.EXPANDED ) &#123;  </div><div class="line"></div><div class="line">                    <span class="comment">//展开状态  </span></div><div class="line"></div><div class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(state == State.COLLAPSED)&#123;  </div><div class="line"></div><div class="line">                    <span class="comment">//折叠状态  </span></div><div class="line"></div><div class="line">                &#125;<span class="keyword">else</span> &#123;  </div><div class="line"></div><div class="line">                    <span class="comment">//中间状态  </span></div><div class="line"></div><div class="line">                &#125;  </div><div class="line">            &#125;  </div><div class="line">        &#125;);</div></pre></td></tr></table></figure>
<h4 id="可能这并不是什么新鲜知识，但是我是第一次有这样的需求。很久以前开源了XRecyclerView，网友使用过程中提了很多issues，第一次体会到挖坑容易填坑难。上周开始我决定把这些issues一个个的解决，提高稳定性，并增加一些功能。此次就是为了解决issues-85-。XRecyclerView修复差不多之后，我做一个文档，放在网站首页。"><a href="#可能这并不是什么新鲜知识，但是我是第一次有这样的需求。很久以前开源了XRecyclerView，网友使用过程中提了很多issues，第一次体会到挖坑容易填坑难。上周开始我决定把这些issues一个个的解决，提高稳定性，并增加一些功能。此次就是为了解决issues-85-。XRecyclerView修复差不多之后，我做一个文档，放在网站首页。" class="headerlink" title="可能这并不是什么新鲜知识，但是我是第一次有这样的需求。很久以前开源了XRecyclerView，网友使用过程中提了很多issues，第一次体会到挖坑容易填坑难。上周开始我决定把这些issues一个个的解决，提高稳定性，并增加一些功能。此次就是为了解决issues/85 。XRecyclerView修复差不多之后，我做一个文档，放在网站首页。"></a>可能这并不是什么新鲜知识，但是我是第一次有这样的需求。很久以前开源了<a href="https://github.com/jianghejie/XRecyclerView" target="_blank" rel="external">XRecyclerView</a>，网友使用过程中提了很多issues，第一次体会到挖坑容易填坑难。上周开始我决定把这些issues一个个的解决，提高稳定性，并增加一些功能。此次就是为了解决issues/85 。XRecyclerView修复差不多之后，我做一个文档，放在网站首页。</h4>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://WinterSmileSB101.online/2017/03/22/AppBarLayout-OnOffsetChangedListener的使用-监听AppBarLauout的滑动/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WinterSmileSB101">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WinterSmileSB101 的个人房间">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/AppBarLayout-OnOffsetChangedListener的使用-监听AppBarLauout的滑动/" itemprop="url">
                  AppBarLayout.OnOffsetChangedListener的使用-监听AppBarLauout的滑动
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-22T15:08:51+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/Android-实战/" itemprop="url" rel="index">
                    <span itemprop="name">Android 实战</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>版权声明：本文为 wintersmilesb101 -（个人独立博客– <a href="http://wintersmilesb101.online">http://wintersmilesb101.online</a> 欢迎访问）博主转载文章，<a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0616/3052.html" target="_blank" rel="external">原文地址</a>。</p>
</blockquote>
<h4 id="先看看官网对于AppBarLayout-OnOffsetChangedListener的解释："><a href="#先看看官网对于AppBarLayout-OnOffsetChangedListener的解释：" class="headerlink" title="先看看官网对于AppBarLayout.OnOffsetChangedListener的解释："></a>先看看官网对于AppBarLayout.OnOffsetChangedListener的解释：</h4><h4 id="Interface-definition-for-a-callback-to-be-invoked-when-an-AppBarLayout’s-vertical-offset-changes"><a href="#Interface-definition-for-a-callback-to-be-invoked-when-an-AppBarLayout’s-vertical-offset-changes" class="headerlink" title="Interface definition for a callback to be invoked when an AppBarLayout’s vertical offset changes."></a>Interface definition for a callback to be invoked when an AppBarLayout’s vertical offset changes.</h4><h4 id="当AppBarLayout垂直方向上的偏移量发生改变时，为触发一个回调方法定义的接口。触发的回调方法是："><a href="#当AppBarLayout垂直方向上的偏移量发生改变时，为触发一个回调方法定义的接口。触发的回调方法是：" class="headerlink" title="当AppBarLayout垂直方向上的偏移量发生改变时，为触发一个回调方法定义的接口。触发的回调方法是："></a>当AppBarLayout垂直方向上的偏移量发生改变时，为触发一个回调方法定义的接口。触发的回调方法是：</h4><h4 id="onOffsetChanged-AppBarLayout-appBarLayout-int-verticalOffset"><a href="#onOffsetChanged-AppBarLayout-appBarLayout-int-verticalOffset" class="headerlink" title="onOffsetChanged(AppBarLayout appBarLayout, int verticalOffset)"></a>onOffsetChanged(AppBarLayout appBarLayout, int verticalOffset)</h4><h4 id="再来看看对于onOffsetChanged的解释："><a href="#再来看看对于onOffsetChanged的解释：" class="headerlink" title="再来看看对于onOffsetChanged的解释："></a>再来看看对于onOffsetChanged的解释：</h4><h4 id="Called-when-the-AppBarLayout’s-layout-offset-has-been-changed-This-allows-child-views-to-implement-custom-behavior-based-on-the-offset-for-instance-pinning-a-view-at-a-certain-y-value"><a href="#Called-when-the-AppBarLayout’s-layout-offset-has-been-changed-This-allows-child-views-to-implement-custom-behavior-based-on-the-offset-for-instance-pinning-a-view-at-a-certain-y-value" class="headerlink" title="Called when the AppBarLayout’s layout offset has been changed. This allows child views to implement custom behavior based on the offset (for instance pinning a view at a certain y value)."></a>Called when the AppBarLayout’s layout offset has been changed. This allows child views to implement custom behavior based on the offset (for instance pinning a view at a certain y value).</h4><h4 id="在AppBarLayout的布局偏移量发生改变时被调用。这个方法允许子view根据偏移量实现自定义的行为（比如在特定Y值的时候固定住一个View）。解释的非常清楚了，不过我们需要点例子才好理解。就以stackoverflow上的一个问题为例吧。"><a href="#在AppBarLayout的布局偏移量发生改变时被调用。这个方法允许子view根据偏移量实现自定义的行为（比如在特定Y值的时候固定住一个View）。解释的非常清楚了，不过我们需要点例子才好理解。就以stackoverflow上的一个问题为例吧。" class="headerlink" title="在AppBarLayout的布局偏移量发生改变时被调用。这个方法允许子view根据偏移量实现自定义的行为（比如在特定Y值的时候固定住一个View）。解释的非常清楚了，不过我们需要点例子才好理解。就以stackoverflow上的一个问题为例吧。"></a>在AppBarLayout的布局偏移量发生改变时被调用。这个方法允许子view根据偏移量实现自定义的行为（比如在特定Y值的时候固定住一个View）。解释的非常清楚了，不过我们需要点例子才好理解。就以stackoverflow上的一个问题为例吧。</h4><h4 id="http-stackoverflow-com-questions-30779667-android-collapsingtoolbarlayout-and-swiperefreshlayout-30785823-30785823"><a href="#http-stackoverflow-com-questions-30779667-android-collapsingtoolbarlayout-and-swiperefreshlayout-30785823-30785823" class="headerlink" title="http://stackoverflow.com/questions/30779667/android-collapsingtoolbarlayout-and-swiperefreshlayout/30785823#30785823"></a><a href="http://stackoverflow.com/questions/30779667/android-collapsingtoolbarlayout-and-swiperefreshlayout/30785823#30785823" target="_blank" rel="external">http://stackoverflow.com/questions/30779667/android-collapsingtoolbarlayout-and-swiperefreshlayout/30785823#30785823</a></h4><h4 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h4><h4 id="当我把CollapsingToolbarLayout，CollapsingToolbarLayout以及SwipeRefreshLayout用在一起的时候："><a href="#当我把CollapsingToolbarLayout，CollapsingToolbarLayout以及SwipeRefreshLayout用在一起的时候：" class="headerlink" title="当我把CollapsingToolbarLayout，CollapsingToolbarLayout以及SwipeRefreshLayout用在一起的时候："></a>当我把CollapsingToolbarLayout，CollapsingToolbarLayout以及SwipeRefreshLayout用在一起的时候：</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.DrawerLayout</span>  </span></div><div class="line">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>  </div><div class="line">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span>  </div><div class="line">    <span class="attr">android:id</span>=<span class="string">"@+id/drawer_layout"</span>  </div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>&gt;<span class="tag">&lt;<span class="name">android.support.design.widget.CoordinatorLayout</span>  </span></div><div class="line">    <span class="attr">android:id</span>=<span class="string">"@+id/coordinator_layout"</span>  </div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>&gt;<span class="tag">&lt;<span class="name">android.support.design.widget.AppBarLayout</span>  </span></div><div class="line">    <span class="attr">android:id</span>=<span class="string">"@+id/appbar"</span>  </div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"@dimen/collapse_toolbar_height"</span>  </div><div class="line">    <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>  </div><div class="line">    <span class="attr">android:theme</span>=<span class="string">"@style/ThemeOverlay.AppCompat.Dark.ActionBar"</span>&gt;  </div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.CollapsingToolbarLayout</span>  </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/collapsing_toolbar"</span>  </div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">app:contentScrim</span>=<span class="string">"?attr/colorPrimary"</span>  </div><div class="line">        <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>  </div><div class="line">        <span class="attr">app:expandedTitleMarginStart</span>=<span class="string">"48dp"</span>  </div><div class="line">        <span class="attr">app:expandedTitleMarginEnd</span>=<span class="string">"64dp"</span>  </div><div class="line">        <span class="attr">app:layout_scrollFlags</span>=<span class="string">"scroll|exitUntilCollapsed"</span>&gt;  </div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">ImageView</span>  </span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/toolbar_image"</span>  </div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">            <span class="attr">android:scaleType</span>=<span class="string">"centerCrop"</span>  </div><div class="line">            <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">app:layout_collapseMode</span>=<span class="string">"parallax"</span> /&gt;  </div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">include</span>  </span></div><div class="line">            <span class="attr">layout</span>=<span class="string">"@layout/activity_main_toolbar"</span>/&gt;  </div><div class="line"></div><div class="line">    <span class="tag">&lt;/<span class="name">android.support.design.widget.CollapsingToolbarLayout</span>&gt;</span><span class="tag">&lt;/<span class="name">android.support.design.widget.AppBarLayout</span>&gt;</span>  </div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">android.support.v4.widget.SwipeRefreshLayout</span>  </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/swipe_container"</span>  </div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">app:layout_behavior</span>=<span class="string">"@string/appbar_scrolling_view_behavior"</span>&gt;  </div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">cz.yetanotherview.webcamviewer.app.helper.EmptyRecyclerView</span>  </span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/mainList"</span>  </div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">            <span class="attr">android:scrollbars</span>=<span class="string">"vertical"</span> /&gt;  </div><div class="line">    <span class="tag">&lt;/<span class="name">android.support.v4.widget.SwipeRefreshLayout</span>&gt;</span>  </div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.FloatingActionButton</span>  </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/floating_action_button"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>  </div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">        <span class="attr">app:layout_anchor</span>=<span class="string">"@id/appbar"</span>  </div><div class="line">        <span class="attr">app:layout_anchorGravity</span>=<span class="string">"bottom|right|end"</span>  </div><div class="line">        <span class="attr">android:layout_margin</span>=<span class="string">"16dp"</span>  </div><div class="line">        <span class="attr">app:fabSize</span>=<span class="string">"mini"</span>  </div><div class="line">        <span class="attr">android:src</span>=<span class="string">"@drawable/ic_action_edit"</span>  </div><div class="line">        <span class="attr">android:onClick</span>=<span class="string">"assignSelectedWebCamsToCategory"</span>/&gt;  </div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">com.github.clans.fab.FloatingActionMenu</span>  </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/floating_action_menu"</span>  </div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_gravity</span>=<span class="string">"bottom|end"</span>  </div><div class="line">        <span class="attr">android:paddingRight</span>=<span class="string">"10dp"</span>  </div><div class="line">        <span class="attr">android:paddingBottom</span>=<span class="string">"8dp"</span>  </div><div class="line">        <span class="attr">android:paddingLeft</span>=<span class="string">"10dp"</span>  </div><div class="line">        <span class="attr">fab:menu_shadowColor</span>=<span class="string">"#37000000"</span>  </div><div class="line">        <span class="attr">fab:menu_colorNormal</span>=<span class="string">"#DA4336"</span>  </div><div class="line">        <span class="attr">fab:menu_colorPressed</span>=<span class="string">"#E75043"</span>  </div><div class="line">        <span class="attr">fab:menu_colorRipple</span>=<span class="string">"#99FFFFFF"</span>  </div><div class="line">        <span class="attr">fab:menu_icon</span>=<span class="string">"@drawable/fab_add"</span>  </div><div class="line">        <span class="attr">fab:menu_buttonSpacing</span>=<span class="string">"10dp"</span>  </div><div class="line">        <span class="attr">fab:menu_labels_textColor</span>=<span class="string">"@color/very_dark_grey"</span>  </div><div class="line">        <span class="attr">fab:menu_labels_textSize</span>=<span class="string">"14sp"</span>  </div><div class="line">        <span class="attr">fab:menu_labels_colorNormal</span>=<span class="string">"@color/white"</span>  </div><div class="line">        <span class="attr">fab:menu_labels_colorPressed</span>=<span class="string">"@color/next_grey"</span>  </div><div class="line">        <span class="attr">fab:menu_labels_colorRipple</span>=<span class="string">"#99FFFFFF"</span>  </div><div class="line">        <span class="attr">fab:menu_labels_margin</span>=<span class="string">"8dp"</span>  </div><div class="line">        <span class="attr">fab:menu_backgroundColor</span>=<span class="string">"@color/black_transparent"</span>&gt;  </div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">com.github.clans.fab.FloatingActionButton</span>  </span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:src</span>=<span class="string">"@drawable/ic_action_content_import"</span>  </div><div class="line">            <span class="attr">fab:fab_size</span>=<span class="string">"mini"</span>  </div><div class="line">            <span class="attr">fab:fab_label</span>=<span class="string">"@string/pref_import_from_server"</span>  </div><div class="line">            <span class="attr">fab:fab_colorNormal</span>=<span class="string">"@color/white"</span>  </div><div class="line">            <span class="attr">app:fab_colorPressed</span>=<span class="string">"@color/next_grey"</span>  </div><div class="line">            <span class="attr">app:fab_colorRipple</span>=<span class="string">"#99FFFFFF"</span>  </div><div class="line">            <span class="attr">android:onClick</span>=<span class="string">"showSelectionDialog"</span>/&gt;  </div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">com.github.clans.fab.FloatingActionButton</span>  </span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:src</span>=<span class="string">"@drawable/ic_action_content_manually"</span>  </div><div class="line">            <span class="attr">fab:fab_size</span>=<span class="string">"mini"</span>  </div><div class="line">            <span class="attr">fab:fab_label</span>=<span class="string">"@string/create_manually"</span>  </div><div class="line">            <span class="attr">fab:fab_colorNormal</span>=<span class="string">"@color/white"</span>  </div><div class="line">            <span class="attr">app:fab_colorPressed</span>=<span class="string">"@color/next_grey"</span>  </div><div class="line">            <span class="attr">app:fab_colorRipple</span>=<span class="string">"#99FFFFFF"</span>  </div><div class="line">            <span class="attr">android:onClick</span>=<span class="string">"showAddDialog"</span>/&gt;  </div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">com.github.clans.fab.FloatingActionButton</span>  </span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:src</span>=<span class="string">"@drawable/ic_action_content_suggestion"</span>  </div><div class="line">            <span class="attr">fab:fab_size</span>=<span class="string">"mini"</span>  </div><div class="line">            <span class="attr">fab:fab_label</span>=<span class="string">"@string/submit_suggestion"</span>  </div><div class="line">            <span class="attr">fab:fab_colorNormal</span>=<span class="string">"@color/white"</span>  </div><div class="line">            <span class="attr">app:fab_colorPressed</span>=<span class="string">"@color/next_grey"</span>  </div><div class="line">            <span class="attr">app:fab_colorRipple</span>=<span class="string">"#99FFFFFF"</span>  </div><div class="line">            <span class="attr">android:onClick</span>=<span class="string">"showSuggestionDialog"</span>/&gt;  </div><div class="line"></div><div class="line">    <span class="tag">&lt;/<span class="name">com.github.clans.fab.FloatingActionMenu</span>&gt;</span><span class="tag">&lt;/<span class="name">android.support.design.widget.CoordinatorLayout</span>&gt;</span><span class="tag">&lt;<span class="name">include</span>  </span></div><div class="line">    <span class="attr">layout</span>=<span class="string">"@layout/activity_main_drawer"</span>/&gt;<span class="tag">&lt;/<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="java代码："><a href="#java代码：" class="headerlink" title="java代码："></a>java代码：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">swipeRefreshLayout = (SwipeRefreshLayout) findViewById(R.id.swipe_container);  </div><div class="line">swipeRefreshLayout.setOnRefreshListener(<span class="keyword">this</span>);</div></pre></td></tr></table></figure>
<h4 id="如何才能让滑动刷新只发生在collapsing-toolbar完全展开并且-scrollview-或者recyclerview-在顶部-的时候呢？类似于g＋和Inbox中的效果。"><a href="#如何才能让滑动刷新只发生在collapsing-toolbar完全展开并且-scrollview-或者recyclerview-在顶部-的时候呢？类似于g＋和Inbox中的效果。" class="headerlink" title="如何才能让滑动刷新只发生在collapsing toolbar完全展开并且 scrollview (或者recyclerview)在顶部 的时候呢？类似于g＋和Inbox中的效果。"></a>如何才能让滑动刷新只发生在collapsing toolbar完全展开并且 scrollview (或者recyclerview)在顶部 的时候呢？类似于g＋和Inbox中的效果。</h4><h4 id="错误的效果"><a href="#错误的效果" class="headerlink" title="错误的效果:"></a>错误的效果:</h4><p><img src="http://img.blog.csdn.net/20170212165910395?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjEyNjU5MTU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="image"></p>
<h4 id="正确的效果："><a href="#正确的效果：" class="headerlink" title="正确的效果："></a>正确的效果：</h4><p><img src="http://img.blog.csdn.net/20170212165930427?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjEyNjU5MTU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="image"></p>
<h4 id="回答："><a href="#回答：" class="headerlink" title="回答："></a><strong>回答：</strong></h4><h4 id="可以尝试为AppBarLayout添加-offset-change-listener同时根据情况启用或者关闭滑动刷新，需要增加的代码在这里："><a href="#可以尝试为AppBarLayout添加-offset-change-listener同时根据情况启用或者关闭滑动刷新，需要增加的代码在这里：" class="headerlink" title="可以尝试为AppBarLayout添加 offset change listener同时根据情况启用或者关闭滑动刷新，需要增加的代码在这里："></a>可以尝试为AppBarLayout添加 offset change listener同时根据情况启用或者关闭滑动刷新，需要增加的代码在这里：</h4><h4 id="https-gist-github-com-blackcj-001a90c7775765ad5212"><a href="#https-gist-github-com-blackcj-001a90c7775765ad5212" class="headerlink" title="https://gist.github.com/blackcj/001a90c7775765ad5212"></a><a href="https://gist.github.com/blackcj/001a90c7775765ad5212" target="_blank" rel="external">https://gist.github.com/blackcj/001a90c7775765ad5212</a></h4><h4 id="关键改动："><a href="#关键改动：" class="headerlink" title="关键改动："></a>关键改动：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title">AppBarLayout</span>.<span class="title">OnOffsetChangedListener</span> </span>&#123;  </div><div class="line">    ...  </div><div class="line"></div><div class="line">    <span class="keyword">private</span> AppBarLayout appBarLayout;  </div><div class="line">    <span class="keyword">private</span> SwipeRefreshLayout mSwipeRefreshLayout;  </div><div class="line"></div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;  </div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);  </div><div class="line">        setContentView(R.layout.activity_main);  </div><div class="line"></div><div class="line">        ...  </div><div class="line">        mSwipeRefreshLayout = (SwipeRefreshLayout) findViewById(R.id.contentView);  </div><div class="line">        appBarLayout = (AppBarLayout) findViewById(R.id.appBarLayout);  </div><div class="line"></div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onOffsetChanged</span><span class="params">(AppBarLayout appBarLayout, <span class="keyword">int</span> i)</span> </span>&#123;  </div><div class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;  </div><div class="line">            mSwipeRefreshLayout.setEnabled(<span class="keyword">true</span>);  </div><div class="line">        &#125; <span class="keyword">else</span> &#123;  </div><div class="line">            mSwipeRefreshLayout.setEnabled(<span class="keyword">false</span>);  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onResume</span><span class="params">()</span> </span>&#123;  </div><div class="line">        <span class="keyword">super</span>.onResume();  </div><div class="line">        appBarLayout.addOnOffsetChangedListener(<span class="keyword">this</span>);  </div><div class="line">    &#125;  </div><div class="line"></div><div class="line">    <span class="meta">@Override</span>  </div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onPause</span><span class="params">()</span> </span>&#123;  </div><div class="line">        <span class="keyword">super</span>.onPause();  </div><div class="line">        appBarLayout.removeOnOffsetChangedListener(<span class="keyword">this</span>);  </div><div class="line">    &#125;&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://WinterSmileSB101.online/2017/03/22/让Fragment的layout也能够实现沉浸（透明）状态栏/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WinterSmileSB101">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WinterSmileSB101 的个人房间">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/让Fragment的layout也能够实现沉浸（透明）状态栏/" itemprop="url">
                  让Fragment的layout也能够实现沉浸（透明）状态栏
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-22T15:00:28+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/Android-实战/" itemprop="url" rel="index">
                    <span itemprop="name">Android 实战</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>版权声明：本文为 wintersmilesb101 -（个人独立博客– <a href="http://wintersmilesb101.online">http://wintersmilesb101.online</a> 欢迎访问）博主原创文章，未经博主允许不得转载。</p>
</blockquote>
<h4 id="起因：想做一个自用的记账App，由于本人没有UI天赋，审美也是呵呵。所以就借鉴了很多挖财记账的UI，但是在记账的部分想要实现沉浸式就出现问题了。"><a href="#起因：想做一个自用的记账App，由于本人没有UI天赋，审美也是呵呵。所以就借鉴了很多挖财记账的UI，但是在记账的部分想要实现沉浸式就出现问题了。" class="headerlink" title="起因：想做一个自用的记账App，由于本人没有UI天赋，审美也是呵呵。所以就借鉴了很多挖财记账的UI，但是在记账的部分想要实现沉浸式就出现问题了。"></a>起因：想做一个自用的记账App，由于本人没有UI天赋，审美也是呵呵。所以就借鉴了很多挖财记账的UI，但是在记账的部分想要实现沉浸式就出现问题了。</h4><h4 id="问题描述：一共两个页面间的协调，第一个页面做了侧滑抽屉，在布局里放了ViewPager-第二个页面通过Fragment来装载布局。"><a href="#问题描述：一共两个页面间的协调，第一个页面做了侧滑抽屉，在布局里放了ViewPager-第二个页面通过Fragment来装载布局。" class="headerlink" title="问题描述：一共两个页面间的协调，第一个页面做了侧滑抽屉，在布局里放了ViewPager 第二个页面通过Fragment来装载布局。"></a>问题描述：一共两个页面间的协调，第一个页面做了侧滑抽屉，在布局里放了ViewPager 第二个页面通过Fragment来装载布局。</h4><h4 id="问题解决：是由于第一个页面的主布局有Android：fitSystemWindows属性。所以导致子布局不能实现完美沉浸（状态栏会保持第一个页面主布局的样式）。"><a href="#问题解决：是由于第一个页面的主布局有Android：fitSystemWindows属性。所以导致子布局不能实现完美沉浸（状态栏会保持第一个页面主布局的样式）。" class="headerlink" title="问题解决：是由于第一个页面的主布局有Android：fitSystemWindows属性。所以导致子布局不能实现完美沉浸（状态栏会保持第一个页面主布局的样式）。"></a>问题解决：是由于第一个页面的主布局有Android：fitSystemWindows属性。所以导致子布局不能实现完美沉浸（状态栏会保持第一个页面主布局的样式）。</h4><h4 id="附上页面布局，第一个页面："><a href="#附上页面布局，第一个页面：" class="headerlink" title="附上页面布局，第一个页面："></a>附上页面布局，第一个页面：</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;  </div><div class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.DrawerLayout</span>  </span></div><div class="line">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>  </div><div class="line">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span>  </div><div class="line">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span>  </div><div class="line">    <span class="attr">android:id</span>=<span class="string">"@+id/drawer_layout"</span>  </div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>  </div><div class="line">    <span class="attr">tools:openDrawer</span>=<span class="string">"start"</span>&gt;  </div><div class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span>  </span></div><div class="line">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>  </div><div class="line">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span>  </div><div class="line">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span>  </div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>&gt;  </div><div class="line">    <span class="tag">&lt;<span class="name">android.support.v4.view.ViewPager</span>  </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/container"</span>  </div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>/&gt;  </div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">RelativeLayout</span>  </span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>  </div><div class="line">        <span class="attr">android:background</span>=<span class="string">"#00FFFFFF"</span>  </div><div class="line">        <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>  </div><div class="line">        <span class="attr">android:gravity</span>=<span class="string">"top"</span>&gt;  </div><div class="line">        <span class="tag">&lt;<span class="name">android.support.v7.widget.Toolbar</span>  </span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/toolbar"</span>  </div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"?attr/actionBarSize"</span>  </div><div class="line">            <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">app:popupTheme</span>=<span class="string">"@style/AppTheme.PopupOverlay"</span>  </div><div class="line">            <span class="attr">android:theme</span>=<span class="string">"@style/AppTheme.AppBarOverlay"</span>&gt;  </div><div class="line"></div><div class="line">        <span class="tag">&lt;/<span class="name">android.support.v7.widget.Toolbar</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">net.lucode.hackware.magicindicator.MagicIndicator</span>  </span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/magic_indicator"</span>  </div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"40dp"</span>  </div><div class="line">            <span class="attr">android:layout_centerHorizontal</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">android:layout_marginTop</span>=<span class="string">"8dp"</span>  </div><div class="line">            <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">android:background</span>=<span class="string">"#00FFFFFF"</span>&gt;  </div><div class="line"></div><div class="line">        <span class="tag">&lt;/<span class="name">net.lucode.hackware.magicindicator.MagicIndicator</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span>  </div><div class="line"></div><div class="line">                <span class="tag">&lt;<span class="name">android.support.design.widget.FloatingActionButton</span>  </span></div><div class="line">                    <span class="attr">android:id</span>=<span class="string">"@+id/fab"</span>  </div><div class="line">                    <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">                    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>  </div><div class="line">                    <span class="attr">android:layout_gravity</span>=<span class="string">"end|bottom"</span>  </div><div class="line">                    <span class="attr">android:layout_margin</span>=<span class="string">"@dimen/fab_margin"</span>  </div><div class="line">                    <span class="attr">app:srcCompat</span>=<span class="string">"@android:drawable/ic_dialog_email"</span>/&gt;  </div><div class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.NavigationView</span>  </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/nav_view"</span>  </div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_gravity</span>=<span class="string">"start"</span>  </div><div class="line">        <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>  </div><div class="line">        <span class="attr">app:headerLayout</span>=<span class="string">"@layout/nav_header_main"</span>  </div><div class="line">        <span class="attr">app:menu</span>=<span class="string">"@menu/activity_main_drawer"</span>/&gt;  </div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="第二个页面："><a href="#第二个页面：" class="headerlink" title="第二个页面："></a>第二个页面：</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>  </span></div><div class="line">                <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span>  </div><div class="line">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>&gt;  </div><div class="line">    <span class="tag">&lt;<span class="name">RelativeLayout</span>  </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/fragment_calculation_main_topLayout"</span>  </div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"260dp"</span>  </div><div class="line">        <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>&gt;  </div><div class="line">        <span class="tag">&lt;<span class="name">ImageView</span>  </span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/fragment_calculation_main_bg"</span>  </div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"250dp"</span>  </div><div class="line">            <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">android:scaleType</span>=<span class="string">"centerCrop"</span>/&gt;  </div><div class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span>  </span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"50dp"</span>  </div><div class="line">            <span class="attr">android:layout_centerInParent</span>=<span class="string">"true"</span>&gt;  </div><div class="line">            <span class="tag">&lt;<span class="name">LinearLayout</span>  </span></div><div class="line">                <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span>  </div><div class="line">                <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">                <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>  </div><div class="line">                <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;  </div><div class="line">                <span class="tag">&lt;<span class="name">LinearLayout</span>  </span></div><div class="line">                    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                    <span class="attr">android:layout_height</span>=<span class="string">"0dp"</span>  </div><div class="line">                    <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>  </div><div class="line">                    <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span>&gt;  </div><div class="line">                    <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">                        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">                        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">                        <span class="attr">android:textColor</span>=<span class="string">"#FFFFFF"</span>  </div><div class="line">                        <span class="attr">android:text</span>=<span class="string">"￥"</span>/&gt;  </div><div class="line">                    <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">                        <span class="attr">android:id</span>=<span class="string">"@+id/fragment_calculation_month_IN"</span>  </div><div class="line">                        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">                        <span class="attr">android:textColor</span>=<span class="string">"#FFFFFF"</span>  </div><div class="line">                        <span class="attr">android:text</span>=<span class="string">"0.00"</span>/&gt;  </div><div class="line">                <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span>  </div><div class="line">                <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">                    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                    <span class="attr">android:layout_height</span>=<span class="string">"0dp"</span>  </div><div class="line">                    <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>  </div><div class="line">                    <span class="attr">android:textColor</span>=<span class="string">"#FFFFFF"</span>  </div><div class="line">                    <span class="attr">android:text</span>=<span class="string">"本月收入"</span>/&gt;  </div><div class="line">            <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span>  </div><div class="line"></div><div class="line">            <span class="tag">&lt;<span class="name">LinearLayout</span>  </span></div><div class="line">                <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span>  </div><div class="line">                <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">                <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>  </div><div class="line">                <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;  </div><div class="line">                <span class="tag">&lt;<span class="name">LinearLayout</span>  </span></div><div class="line">                    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                    <span class="attr">android:layout_height</span>=<span class="string">"0dp"</span>  </div><div class="line">                    <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>&gt;  </div><div class="line">                    <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">                        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">                        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">                        <span class="attr">android:textColor</span>=<span class="string">"#FFFFFF"</span>  </div><div class="line">                        <span class="attr">android:text</span>=<span class="string">"￥"</span>/&gt;  </div><div class="line">                    <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">                        <span class="attr">android:id</span>=<span class="string">"@+id/fragment_calculation_month_OUT"</span>  </div><div class="line">                        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">                        <span class="attr">android:textColor</span>=<span class="string">"#FFFFFF"</span>  </div><div class="line">                        <span class="attr">android:text</span>=<span class="string">"0.00"</span>/&gt;  </div><div class="line">                <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span>  </div><div class="line">                <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">                    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                    <span class="attr">android:layout_height</span>=<span class="string">"0dp"</span>  </div><div class="line">                    <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>  </div><div class="line">                    <span class="attr">android:textColor</span>=<span class="string">"#FFFFFF"</span>  </div><div class="line">                    <span class="attr">android:text</span>=<span class="string">"本月支出"</span>/&gt;  </div><div class="line">            <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span>  </div><div class="line"></div><div class="line">            <span class="tag">&lt;<span class="name">LinearLayout</span>  </span></div><div class="line">                <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span>  </div><div class="line">                <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">                <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>  </div><div class="line">                <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;  </div><div class="line">                <span class="tag">&lt;<span class="name">LinearLayout</span>  </span></div><div class="line">                    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                    <span class="attr">android:layout_height</span>=<span class="string">"0dp"</span>  </div><div class="line">                    <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>&gt;  </div><div class="line">                    <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">                        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">                        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">                        <span class="attr">android:textColor</span>=<span class="string">"#FFFFFF"</span>  </div><div class="line">                        <span class="attr">android:text</span>=<span class="string">"￥"</span>/&gt;  </div><div class="line">                    <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">                        <span class="attr">android:id</span>=<span class="string">"@+id/fragment_calculation_month_cal"</span>  </div><div class="line">                        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">                        <span class="attr">android:textColor</span>=<span class="string">"#FFFFFF"</span>  </div><div class="line">                        <span class="attr">android:text</span>=<span class="string">"0.00"</span>/&gt;  </div><div class="line">                <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span>  </div><div class="line">                <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">                    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                    <span class="attr">android:layout_height</span>=<span class="string">"0dp"</span>  </div><div class="line">                    <span class="attr">android:layout_weight</span>=<span class="string">"1"</span>  </div><div class="line">                    <span class="attr">android:textColor</span>=<span class="string">"#FFFFFF"</span>  </div><div class="line">                    <span class="attr">android:text</span>=<span class="string">"本月差额"</span>/&gt;  </div><div class="line">            <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span>  </div><div class="line"></div><div class="line">        <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span>  </div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">Button</span>  </span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/fragment_calculation_main_addButton"</span>  </div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"320dp"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"50dp"</span>  </div><div class="line">            <span class="attr">android:paddingLeft</span>=<span class="string">"10dp"</span>  </div><div class="line">            <span class="attr">android:paddingRight</span>=<span class="string">"10dp"</span>  </div><div class="line">            <span class="attr">android:layout_centerHorizontal</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">android:background</span>=<span class="string">"#FF9900"</span>  </div><div class="line">            <span class="attr">android:text</span>=<span class="string">"记一笔"</span>/&gt;  </div><div class="line"></div><div class="line">    <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;<span class="name">LinearLayout</span>  </span></div><div class="line">    <span class="attr">android:layout_below</span>=<span class="string">"@+id/fragment_calculation_main_topLayout"</span>  </div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:paddingRight</span>=<span class="string">"20dp"</span>  </div><div class="line">    <span class="attr">android:paddingLeft</span>=<span class="string">"20dp"</span>  </div><div class="line">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;  </div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">RelativeLayout</span>  </span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"60dp"</span>&gt;  </div><div class="line">    <span class="tag">&lt;<span class="name">ImageView</span>  </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/fragment_calculation_main_image"</span>  </div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"20dp"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"20dp"</span>  </div><div class="line">        <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span>/&gt;  </div><div class="line">    <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">        <span class="attr">android:layout_toRightOf</span>=<span class="string">"@id/fragment_calculation_main_image"</span>  </div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"20dp"</span>  </div><div class="line">        <span class="attr">android:text</span>=<span class="string">"今日支出"</span>  </div><div class="line">        <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span>  </div><div class="line">        <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span>  </div><div class="line">        <span class="attr">android:paddingLeft</span>=<span class="string">"10dp"</span>/&gt;  </div><div class="line">    <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/fragment_calculation_main_today_Out"</span>  </div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"50dp"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"20dp"</span>  </div><div class="line">        <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span>  </div><div class="line">        <span class="attr">android:layout_alignParentEnd</span>=<span class="string">"true"</span>  </div><div class="line">        <span class="attr">android:text</span>=<span class="string">"未消费"</span>/&gt;  </div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span>  </span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"1dp"</span>  </div><div class="line">            <span class="attr">android:background</span>=<span class="string">"#C0C0C0"</span>&gt;<span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span>  </div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span>  </div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">RelativeLayout</span>  </span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"60dp"</span>&gt;  </div><div class="line">        <span class="tag">&lt;<span class="name">ImageView</span>  </span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@id/fragment_calculation_main_image"</span>  </div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"20dp"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"20dp"</span>  </div><div class="line">            <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span>/&gt;  </div><div class="line">        <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">            <span class="attr">android:layout_toRightOf</span>=<span class="string">"@id/fragment_calculation_main_image"</span>  </div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"20dp"</span>  </div><div class="line">            <span class="attr">android:text</span>=<span class="string">"今日收入"</span>  </div><div class="line">            <span class="attr">android:layout_gravity</span>=<span class="string">"center"</span>  </div><div class="line">            <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">android:paddingLeft</span>=<span class="string">"10dp"</span>/&gt;  </div><div class="line">        <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/fragment_calculation_main_today_in"</span>  </div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"50dp"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"20dp"</span>  </div><div class="line">            <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">android:layout_alignParentEnd</span>=<span class="string">"true"</span>  </div><div class="line">            <span class="attr">android:text</span>=<span class="string">"未盈利"</span>/&gt;  </div><div class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span>  </span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"1dp"</span>  </div><div class="line">            <span class="attr">android:background</span>=<span class="string">"#C0C0C0"</span>&gt;<span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span>  </div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span>  </div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="问题图（状态栏为上一个页面的主题样式）"><a href="#问题图（状态栏为上一个页面的主题样式）" class="headerlink" title="问题图（状态栏为上一个页面的主题样式）"></a>问题图（状态栏为上一个页面的主题样式）</h4><p><img src="http://img.blog.csdn.net/20170221085659254?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjEyNjU5MTU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="image"></p>
<h4 id="于是去掉主页面根布局的android-fitSystemWindows属性，发现变这样了："><a href="#于是去掉主页面根布局的android-fitSystemWindows属性，发现变这样了：" class="headerlink" title="于是去掉主页面根布局的android:fitSystemWindows属性，发现变这样了："></a>于是去掉主页面根布局的android:fitSystemWindows属性，发现变这样了：</h4><p><img src="http://img.blog.csdn.net/20170221085844036?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjEyNjU5MTU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="image"></p>
<h4 id="可以看到，状态栏任然不是Fragment的图片沉浸，是主页面的RelativeLayout的样式了。我们再去掉RelativeLayout的android-fitSystemWindows属性。再次编译"><a href="#可以看到，状态栏任然不是Fragment的图片沉浸，是主页面的RelativeLayout的样式了。我们再去掉RelativeLayout的android-fitSystemWindows属性。再次编译" class="headerlink" title="可以看到，状态栏任然不是Fragment的图片沉浸，是主页面的RelativeLayout的样式了。我们再去掉RelativeLayout的android:fitSystemWindows属性。再次编译"></a>可以看到，状态栏任然不是Fragment的图片沉浸，是主页面的RelativeLayout的样式了。我们再去掉RelativeLayout的android:fitSystemWindows属性。再次编译</h4><p><img src="http://img.blog.csdn.net/20170221090221571?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjEyNjU5MTU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="image"></p>
<h4 id="成功！"><a href="#成功！" class="headerlink" title="成功！"></a>成功！</h4><h3 id="总结：要实现Fragment的沉浸很简单，在主Activity中设置Activity的沉浸代码与工作，然后重点是子布局的所有根布局都不能有android-fitSystemWindows属性，注意是所有包含子布局的布局都不能有，比如我这里的RelativeLayout和DrawerLayout两者只要有一个有就不会有正常的沉浸效果，最终的状态栏效果是按照最顶端拥有android-fitSystemWindows属性的布局的样式所决定！"><a href="#总结：要实现Fragment的沉浸很简单，在主Activity中设置Activity的沉浸代码与工作，然后重点是子布局的所有根布局都不能有android-fitSystemWindows属性，注意是所有包含子布局的布局都不能有，比如我这里的RelativeLayout和DrawerLayout两者只要有一个有就不会有正常的沉浸效果，最终的状态栏效果是按照最顶端拥有android-fitSystemWindows属性的布局的样式所决定！" class="headerlink" title="总结：要实现Fragment的沉浸很简单，在主Activity中设置Activity的沉浸代码与工作，然后重点是子布局的所有根布局都不能有android:fitSystemWindows属性，注意是所有包含子布局的布局都不能有，比如我这里的RelativeLayout和DrawerLayout两者只要有一个有就不会有正常的沉浸效果，最终的状态栏效果是按照最顶端拥有android:fitSystemWindows属性的布局的样式所决定！"></a><strong>总结：要实现Fragment的沉浸很简单，在主Activity中设置Activity的沉浸代码与工作，然后重点是子布局的所有根布局都不能有android:fitSystemWindows属性，注意是所有包含子布局的布局都不能有，比如我这里的RelativeLayout和DrawerLayout两者只要有一个有就不会有正常的沉浸效果，最终的状态栏效果是按照最顶端拥有android:fitSystemWindows属性的布局的样式所决定！</strong></h3>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://WinterSmileSB101.online/2017/03/22/Android笨办法实现editText动态输入框/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WinterSmileSB101">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WinterSmileSB101 的个人房间">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/Android笨办法实现editText动态输入框/" itemprop="url">
                  Android 笨办法实现editText动态输入框
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-22T14:52:49+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/Android-自定义View/" itemprop="url" rel="index">
                    <span itemprop="name">Android 自定义View</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>版权声明：本文为 wintersmilesb101 -（个人独立博客– <a href="http://wintersmilesb101.online">http://wintersmilesb101.online</a> 欢迎访问）博主原创文章，未经博主允许不得转载。</p>
</blockquote>
<h4 id="自己在做app数字输入的时候，看到挖财记账的记一笔中的输入效果，感觉很是舒服，于是决定自己撸一个"><a href="#自己在做app数字输入的时候，看到挖财记账的记一笔中的输入效果，感觉很是舒服，于是决定自己撸一个" class="headerlink" title="自己在做app数字输入的时候，看到挖财记账的记一笔中的输入效果，感觉很是舒服，于是决定自己撸一个"></a>自己在做app数字输入的时候，看到挖财记账的记一笔中的输入效果，感觉很是舒服，于是决定自己撸一个</h4><h4 id="先看看挖财的效果："><a href="#先看看挖财的效果：" class="headerlink" title="先看看挖财的效果："></a>先看看挖财的效果：</h4><p><img src="http://img.blog.csdn.net/20170222204124743?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjEyNjU5MTU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="image"></p>
<h4 id="有两种方式可以实现-我能想到的-："><a href="#有两种方式可以实现-我能想到的-：" class="headerlink" title="有两种方式可以实现(我能想到的)："></a>有两种方式可以实现(我能想到的)：</h4><h4 id="1-自定义View来实现此控件，也就是重写下editText的代码，重写覆盖他的检测逻辑，来实现实时更新text。"><a href="#1-自定义View来实现此控件，也就是重写下editText的代码，重写覆盖他的检测逻辑，来实现实时更新text。" class="headerlink" title="1.自定义View来实现此控件，也就是重写下editText的代码，重写覆盖他的检测逻辑，来实现实时更新text。"></a>1.自定义View来实现此控件，也就是重写下editText的代码，重写覆盖他的检测逻辑，来实现实时更新text。</h4><h4 id="2-通过添加新的textView，给editText添加textWeather监听输入，然后判断再根据实际需求来更新textView。"><a href="#2-通过添加新的textView，给editText添加textWeather监听输入，然后判断再根据实际需求来更新textView。" class="headerlink" title="2.通过添加新的textView，给editText添加textWeather监听输入，然后判断再根据实际需求来更新textView。"></a>2.通过添加新的textView，给editText添加textWeather监听输入，然后判断再根据实际需求来更新textView。</h4><h4 id="当然我这里为了快速出效果直接操作第二种，布局"><a href="#当然我这里为了快速出效果直接操作第二种，布局" class="headerlink" title="当然我这里为了快速出效果直接操作第二种，布局"></a>当然我这里为了快速出效果直接操作第二种，布局</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;  </div><div class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>  </span></div><div class="line">              <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>  </div><div class="line">              <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">              <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:paddingLeft</span>=<span class="string">"15dp"</span>&gt;  </div><div class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.TextInputLayout</span>  </span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;  </div><div class="line">        <span class="tag">&lt;<span class="name">RelativeLayout</span>  </span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"100dp"</span>&gt;  </div><div class="line">            <span class="tag">&lt;<span class="name">android.support.design.widget.TextInputEditText</span>  </span></div><div class="line">                <span class="attr">android:id</span>=<span class="string">"@+id/fragment_account_book_num"</span>  </div><div class="line">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                <span class="attr">android:layout_height</span>=<span class="string">"50dp"</span>  </div><div class="line">                <span class="attr">android:textColor</span>=<span class="string">"@color/colorAccent"</span>  </div><div class="line">                <span class="attr">android:background</span>=<span class="string">"@null"</span>  </div><div class="line">                <span class="attr">android:inputType</span>=<span class="string">"numberDecimal"</span>  </div><div class="line">                <span class="attr">android:hint</span>=<span class="string">"输入金额"</span>  </div><div class="line">                <span class="attr">android:cursorVisible</span>=<span class="string">"false"</span>  </div><div class="line">                <span class="attr">android:text</span>=<span class="string">""</span>/&gt;  </div><div class="line">            <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">                <span class="attr">android:id</span>=<span class="string">"@+id/test_text"</span>  </div><div class="line">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                <span class="attr">android:layout_height</span>=<span class="string">"50dp"</span>  </div><div class="line">                <span class="attr">android:text</span>=<span class="string">"0.00"</span>  </div><div class="line">                <span class="attr">android:textColor</span>=<span class="string">"@color/colorAccent"</span>  </div><div class="line">                <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span>/&gt;  </div><div class="line">        <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;/<span class="name">android.support.design.widget.TextInputLayout</span>&gt;</span>  </div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="核心代码：（这里我的需求是这样，小数点前不管，小数点后两位）"><a href="#核心代码：（这里我的需求是这样，小数点前不管，小数点后两位）" class="headerlink" title="核心代码：（这里我的需求是这样，小数点前不管，小数点后两位）"></a>核心代码：（这里我的需求是这样，小数点前不管，小数点后两位）</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line">rootView = inflater.inflate(R.layout.fragment_account_book,container,<span class="keyword">false</span>);  </div><div class="line">            inputEditText = (TextInputEditText)rootView.findViewById(R.id.fragment_account_book_num);  </div><div class="line">            <span class="keyword">final</span> TextView test_text = (TextView)rootView.findViewById(R.id.test_text);  </div><div class="line">            <span class="comment">//添加文字改变监听  </span></div><div class="line">            inputEditText.addTextChangedListener(<span class="keyword">new</span> TextWatcher()&#123;  </div><div class="line">                <span class="meta">@Override</span>  </div><div class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">beforeTextChanged</span><span class="params">(CharSequence s,<span class="keyword">int</span> start,<span class="keyword">int</span> count,<span class="keyword">int</span> after)</span></span>&#123;  </div><div class="line">                &#125;  </div><div class="line"></div><div class="line">                <span class="meta">@Override</span>  </div><div class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTextChanged</span><span class="params">(CharSequence s,<span class="keyword">int</span> start,<span class="keyword">int</span> before,<span class="keyword">int</span> count)</span></span>&#123;  </div><div class="line">                    String str = s.toString();  </div><div class="line">                    Log.i(TAG,<span class="string">"onTextChanged: text变化: "</span>+str);  </div><div class="line">                    <span class="keyword">if</span>(str.contains(<span class="string">"."</span>)) &#123;  </div><div class="line">                     Log.i(TAG,<span class="string">"onTextChanged: 到了位置。"</span>);  </div><div class="line">                        String lastS = str.substring(str.indexOf(<span class="string">"."</span>)+<span class="number">1</span>,str.length());  </div><div class="line">                        str = str.substring(<span class="number">0</span>,str.indexOf(<span class="string">"."</span>));  </div><div class="line">                        <span class="keyword">switch</span>(lastS.length())  </div><div class="line">                        &#123;  </div><div class="line">                            <span class="keyword">case</span> <span class="number">0</span>:  </div><div class="line">                                test_text.setText(str+<span class="string">".00"</span>);  </div><div class="line">                                <span class="keyword">break</span>;  </div><div class="line">                            <span class="keyword">case</span> <span class="number">1</span>:  </div><div class="line">                                test_text.setText(str+<span class="string">"."</span>+lastS+<span class="string">"0"</span>);  </div><div class="line">                                <span class="keyword">break</span>;  </div><div class="line">                            <span class="keyword">case</span> <span class="number">2</span>:  </div><div class="line">                                test_text.setText(str+<span class="string">"."</span>+lastS);  </div><div class="line">                                <span class="keyword">break</span>;  </div><div class="line">                            <span class="keyword">default</span>:<span class="comment">//超过两位，不变化，而且值保留两位，不再多保存，防止一直删除确看起来删除不了的bug  </span></div><div class="line">                                str = str + <span class="string">"."</span> + lastS.substring(<span class="number">0</span>,<span class="number">2</span>);  </div><div class="line"></div><div class="line">                                inputEditText.setText(str);  </div><div class="line">                                inputEditText.setSelection(str.length());<span class="comment">//设置光标位置到最后，避免输入从头开始的bug  </span></div><div class="line">                                <span class="keyword">break</span>;  </div><div class="line">                        &#125;  </div><div class="line">                    &#125;  </div><div class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(!str.trim().equals(<span class="string">""</span>))&#123;  </div><div class="line">                        test_text.setText(str+<span class="string">".00"</span>);  </div><div class="line">                    &#125;  </div><div class="line">                    <span class="keyword">else</span>  </div><div class="line">                    &#123;  </div><div class="line">                        test_text.setText(<span class="string">"0.00"</span>);  </div><div class="line">                    &#125;  </div><div class="line">                &#125;  </div><div class="line"></div><div class="line">                <span class="meta">@Override</span>  </div><div class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterTextChanged</span><span class="params">(Editable s)</span></span>&#123;  </div><div class="line"></div><div class="line">                &#125;  </div><div class="line">            &#125;);</div></pre></td></tr></table></figure>
<h4 id="代码是不是很简单，下面讲注意的几点："><a href="#代码是不是很简单，下面讲注意的几点：" class="headerlink" title="代码是不是很简单，下面讲注意的几点："></a>代码是不是很简单，下面讲注意的几点：</h4><h4 id="1-editText所有效果都要没有或者说是和背景融为一体"><a href="#1-editText所有效果都要没有或者说是和背景融为一体" class="headerlink" title="1.editText所有效果都要没有或者说是和背景融为一体"></a>1.editText所有效果都要没有或者说是和背景融为一体</h4><h4 id="2-textView放到原来editText显示的。"><a href="#2-textView放到原来editText显示的。" class="headerlink" title="2.textView放到原来editText显示的。"></a>2.textView放到原来editText显示的。</h4><h4 id="下面来看看效果："><a href="#下面来看看效果：" class="headerlink" title="下面来看看效果："></a>下面来看看效果：</h4><p><img src="http://img.blog.csdn.net/20170222205535091?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjEyNjU5MTU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="image"></p>
<h4 id="效果基本都达到了，剩下的就是调整editText不显示，textView显示，以及textView的位置了，就不再说了。"><a href="#效果基本都达到了，剩下的就是调整editText不显示，textView显示，以及textView的位置了，就不再说了。" class="headerlink" title="效果基本都达到了，剩下的就是调整editText不显示，textView显示，以及textView的位置了，就不再说了。"></a>效果基本都达到了，剩下的就是调整editText不显示，textView显示，以及textView的位置了，就不再说了。</h4><h4 id="附上调整后的布局："><a href="#附上调整后的布局：" class="headerlink" title="附上调整后的布局："></a>附上调整后的布局：</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;  </div><div class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>  </span></div><div class="line">              <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>  </div><div class="line">              <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">              <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>  </div><div class="line">    <span class="attr">android:paddingLeft</span>=<span class="string">"15dp"</span>&gt;  </div><div class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.TextInputLayout</span>  </span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;  </div><div class="line">        <span class="tag">&lt;<span class="name">RelativeLayout</span>  </span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"50dp"</span>&gt;  </div><div class="line">            <span class="tag">&lt;<span class="name">android.support.design.widget.TextInputEditText</span>  </span></div><div class="line">                <span class="attr">android:id</span>=<span class="string">"@+id/fragment_account_book_num"</span>  </div><div class="line">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                <span class="attr">android:layout_height</span>=<span class="string">"50dp"</span>  </div><div class="line">                <span class="attr">android:textColor</span>=<span class="string">"@color/colorAccent"</span>  </div><div class="line">                <span class="attr">android:textSize</span>=<span class="string">"0dp"</span>  </div><div class="line">                <span class="attr">android:background</span>=<span class="string">"@null"</span>  </div><div class="line">                <span class="attr">android:inputType</span>=<span class="string">"numberDecimal"</span>  </div><div class="line">                <span class="attr">android:cursorVisible</span>=<span class="string">"false"</span>  </div><div class="line">                <span class="attr">android:text</span>=<span class="string">""</span>/&gt;  </div><div class="line">            <span class="tag">&lt;<span class="name">TextView</span>  </span></div><div class="line">                <span class="attr">android:id</span>=<span class="string">"@+id/test_text"</span>  </div><div class="line">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>  </div><div class="line">                <span class="attr">android:layout_height</span>=<span class="string">"50dp"</span>  </div><div class="line">                <span class="attr">android:text</span>=<span class="string">"0.00"</span>  </div><div class="line">                <span class="attr">android:textColor</span>=<span class="string">"@color/colorAccent"</span>  </div><div class="line">                <span class="attr">android:textAlignment</span>=<span class="string">"gravity"</span>  </div><div class="line">                <span class="attr">android:gravity</span>=<span class="string">"center_vertical"</span>  </div><div class="line">                <span class="attr">android:textSize</span>=<span class="string">"18dp"</span>/&gt;  </div><div class="line">        <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;/<span class="name">android.support.design.widget.TextInputLayout</span>&gt;</span>  </div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="以及最终效果"><a href="#以及最终效果" class="headerlink" title="以及最终效果"></a>以及最终效果</h4><p><img src="http://img.blog.csdn.net/20170222214029668?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjEyNjU5MTU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="image"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://WinterSmileSB101.online/2017/03/22/鸿洋大神博文的坑/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WinterSmileSB101">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WinterSmileSB101 的个人房间">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/鸿洋大神博文的坑/" itemprop="url">
                  鸿洋大神博文Android 自定义View (一)中自定义属性所遇到的坑
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-22T14:35:19+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/Android-自定义View/" itemprop="url" rel="index">
                    <span itemprop="name">Android 自定义View</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>版权声明：本文为 wintersmilesb101 -（个人独立博客– <a href="http://wintersmilesb101.online">http://wintersmilesb101.online</a> 欢迎访问）博主原创文章，未经博主允许不得转载。</p>
</blockquote>
<h4 id="原因是由于接触安卓也这么久了，但是自定义view这方面一直没怎么了解，-尤其是对于自定义属性的使用。由于最近app上需要用到自定义View，于是决定把自定义View的坑填上（毕竟安卓中自定义View是重点也是难点），可是没想到第一步就遇到了问题。写这博文主要是为了记录错误，也可以为同样遇到这问题的童鞋提供一个解决办法。"><a href="#原因是由于接触安卓也这么久了，但是自定义view这方面一直没怎么了解，-尤其是对于自定义属性的使用。由于最近app上需要用到自定义View，于是决定把自定义View的坑填上（毕竟安卓中自定义View是重点也是难点），可是没想到第一步就遇到了问题。写这博文主要是为了记录错误，也可以为同样遇到这问题的童鞋提供一个解决办法。" class="headerlink" title="原因是由于接触安卓也这么久了，但是自定义view这方面一直没怎么了解， 尤其是对于自定义属性的使用。由于最近app上需要用到自定义View，于是决定把自定义View的坑填上（毕竟安卓中自定义View是重点也是难点），可是没想到第一步就遇到了问题。写这博文主要是为了记录错误，也可以为同样遇到这问题的童鞋提供一个解决办法。"></a>原因是由于接触安卓也这么久了，但是自定义view这方面一直没怎么了解， 尤其是对于自定义属性的使用。由于最近app上需要用到自定义View，于是决定把自定义View的坑填上（毕竟安卓中自定义View是重点也是难点），可是没想到第一步就遇到了问题。写这博文主要是为了记录错误，也可以为同样遇到这问题的童鞋提供一个解决办法。</h4><h4 id="首先给出鸿洋大神此博文传送门。你们可以先过去看看。由于要用到部分大神的文字才方便解释（不知算不算那啥，有问题联系我，立马删除）"><a href="#首先给出鸿洋大神此博文传送门。你们可以先过去看看。由于要用到部分大神的文字才方便解释（不知算不算那啥，有问题联系我，立马删除）" class="headerlink" title="首先给出鸿洋大神此博文传送门。你们可以先过去看看。由于要用到部分大神的文字才方便解释（不知算不算那啥，有问题联系我，立马删除）"></a>首先给出鸿洋大神<a href="http://blog.csdn.net/lmj623565791/article/details/24252901/" target="_blank" rel="external">此博文传送门</a>。你们可以先过去看看。由于要用到部分大神的文字才方便解释（不知算不算那啥，有问题联系我，立马删除）</h4><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div></pre></td><td class="code"><pre><div class="line">1、自定义View的属性，首先在res/values/  下建立一个attrs.xml ， 在里面定义我们的属性和声明我们的整个样式。  </div><div class="line">[html] view plain copy 在CODE上查看代码片派生到我的代码片  </div><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;    </div><div class="line">&lt;resources&gt;    </div><div class="line"></div><div class="line">    &lt;attr name="titleText" format="string" /&gt;    </div><div class="line">    &lt;attr name="titleTextColor" format="color" /&gt;    </div><div class="line">    &lt;attr name="titleTextSize" format="dimension" /&gt;    </div><div class="line"></div><div class="line">    &lt;declare-styleable name="CustomTitleView"&gt;    </div><div class="line">        &lt;attr name="titleText" /&gt;    </div><div class="line">        &lt;attr name="titleTextColor" /&gt;    </div><div class="line">        &lt;attr name="titleTextSize" /&gt;    </div><div class="line">    &lt;/declare-styleable&gt;    </div><div class="line"></div><div class="line">&lt;/resources&gt;    </div><div class="line">我们定义了字体，字体颜色，字体大小3个属性，format是值该属性的取值类型:  </div><div class="line">一共有：string,color,demension,integer,enum,reference,float,boolean,fraction,flag;不清楚的可以google一把。  </div><div class="line">然后在布局中声明我们的自定义View  </div><div class="line">[objc] view plain copy 在CODE上查看代码片派生到我的代码片  </div><div class="line">&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"    </div><div class="line">    xmlns:tools="http://schemas.android.com/tools"    </div><div class="line">    xmlns:custom="http://schemas.android.com/apk/res/com.example.customview01"    </div><div class="line">    android:layout_width="match_parent"    </div><div class="line">    android:layout_height="match_parent" &gt;    </div><div class="line"></div><div class="line">    &lt;com.example.customview01.view.CustomTitleView    </div><div class="line">        android:layout_width="200dp"    </div><div class="line">        android:layout_height="100dp"    </div><div class="line">        custom:titleText="3712"    </div><div class="line">        custom:titleTextColor="#ff0000"    </div><div class="line">        custom:titleTextSize="40sp" /&gt;    </div><div class="line"></div><div class="line">&lt;/RelativeLayout&gt;    </div><div class="line"></div><div class="line">一定要引入 xmlns:custom="http://schemas.android.com/apk/res/com.example.customview01"我们的命名空间，后面的包路径指的是项目的package  </div><div class="line">2、在View的构造方法中，获得我们的自定义的样式  </div><div class="line">[java] view plain copy 在CODE上查看代码片派生到我的代码片  </div><div class="line">/**   </div><div class="line">     * 文本   </div><div class="line">     */    </div><div class="line">    private String mTitleText;    </div><div class="line">    /**   </div><div class="line">     * 文本的颜色   </div><div class="line">     */    </div><div class="line">    private int mTitleTextColor;    </div><div class="line">    /**   </div><div class="line">     * 文本的大小   </div><div class="line">     */    </div><div class="line">    private int mTitleTextSize;    </div><div class="line"></div><div class="line">    /**   </div><div class="line">     * 绘制时控制文本绘制的范围   </div><div class="line">     */    </div><div class="line">    private Rect mBound;    </div><div class="line">    private Paint mPaint;    </div><div class="line"></div><div class="line">    public CustomTitleView(Context context, AttributeSet attrs)    </div><div class="line">    &#123;    </div><div class="line">        this(context, attrs, 0);    </div><div class="line">    &#125;    </div><div class="line"></div><div class="line">    public CustomTitleView(Context context)    </div><div class="line">    &#123;    </div><div class="line">        this(context, null);    </div><div class="line">    &#125;    </div><div class="line"></div><div class="line">    /**   </div><div class="line">     * 获得我自定义的样式属性   </div><div class="line">     *    </div><div class="line">     * @param context   </div><div class="line">     * @param attrs   </div><div class="line">     * @param defStyle   </div><div class="line">     */    </div><div class="line">    public CustomTitleView(Context context, AttributeSet attrs, int defStyle)    </div><div class="line">    &#123;    </div><div class="line">        super(context, attrs, defStyle);    </div><div class="line">        /**   </div><div class="line">         * 获得我们所定义的自定义样式属性   </div><div class="line">         */    </div><div class="line">        TypedArray a = context.getTheme().obtainStyledAttributes(attrs, R.styleable.CustomTitleView, defStyle, 0);    </div><div class="line">        int n = a.getIndexCount();    </div><div class="line">        for (int i = 0; i &lt; n; i++)    </div><div class="line">        &#123;    </div><div class="line">            int attr = a.getIndex(i);    </div><div class="line">            switch (attr)    </div><div class="line">            &#123;    </div><div class="line">            case R.styleable.CustomTitleView_titleText:    </div><div class="line">                mTitleText = a.getString(attr);    </div><div class="line">                break;    </div><div class="line">            case R.styleable.CustomTitleView_titleTextColor:    </div><div class="line">                // 默认颜色设置为黑色    </div><div class="line">                mTitleTextColor = a.getColor(attr, Color.BLACK);    </div><div class="line">                break;    </div><div class="line">            case R.styleable.CustomTitleView_titleTextSize:    </div><div class="line">                // 默认设置为16sp，TypeValue也可以把sp转化为px    </div><div class="line">                mTitleTextSize = a.getDimensionPixelSize(attr, (int) TypedValue.applyDimension(    </div><div class="line">                        TypedValue.COMPLEX_UNIT_SP, 16, getResources().getDisplayMetrics()));    </div><div class="line">                break;    </div><div class="line"></div><div class="line">            &#125;    </div><div class="line"></div><div class="line">        &#125;    </div><div class="line">        a.recycle();    </div><div class="line"></div><div class="line">        /**   </div><div class="line">         * 获得绘制文本的宽和高   </div><div class="line">         */    </div><div class="line">        mPaint = new Paint();    </div><div class="line">        mPaint.setTextSize(mTitleTextSize);    </div><div class="line">        // mPaint.setColor(mTitleTextColor);    </div><div class="line">        mBound = new Rect();    </div><div class="line">        mPaint.getTextBounds(mTitleText, 0, mTitleText.length(), mBound);    </div><div class="line"></div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h4 id="我们可以看到，步骤我们做的都是一样的。但是在获取自定义属性值得时候就不一样了。"><a href="#我们可以看到，步骤我们做的都是一样的。但是在获取自定义属性值得时候就不一样了。" class="headerlink" title="我们可以看到，步骤我们做的都是一样的。但是在获取自定义属性值得时候就不一样了。"></a>我们可以看到，步骤我们做的都是一样的。但是在获取自定义属性值得时候就不一样了。</h4><h4 id="上文是这样的："><a href="#上文是这样的：" class="headerlink" title="上文是这样的："></a>上文是这样的：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**   </span></div><div class="line">         * 获得我们所定义的自定义样式属性   </div><div class="line">         */    </div><div class="line">        TypedArray a = context.getTheme().obtainStyledAttributes(attrs, R.styleable.CustomTitleView, defStyle, <span class="number">0</span>);    </div><div class="line">        <span class="keyword">int</span> n = a.getIndexCount();    </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)    </div><div class="line">        &#123;    </div><div class="line">            <span class="keyword">int</span> attr = a.getIndex(i);    </div><div class="line">            <span class="keyword">switch</span> (attr)    </div><div class="line">            &#123;    </div><div class="line">            <span class="keyword">case</span> R.styleable.CustomTitleView_titleText:    </div><div class="line">                mTitleText = a.getString(attr);    </div><div class="line">                <span class="keyword">break</span>;    </div><div class="line">            <span class="keyword">case</span> R.styleable.CustomTitleView_titleTextColor:    </div><div class="line">                <span class="comment">// 默认颜色设置为黑色    </span></div><div class="line">                mTitleTextColor = a.getColor(attr, Color.BLACK);    </div><div class="line">                <span class="keyword">break</span>;    </div><div class="line">            <span class="keyword">case</span> R.styleable.CustomTitleView_titleTextSize:    </div><div class="line">                <span class="comment">// 默认设置为16sp，TypeValue也可以把sp转化为px    </span></div><div class="line">                mTitleTextSize = a.getDimensionPixelSize(attr, (<span class="keyword">int</span>) TypedValue.applyDimension(    </div><div class="line">                        TypedValue.COMPLEX_UNIT_SP, <span class="number">16</span>, getResources().getDisplayMetrics()));    </div><div class="line">                <span class="keyword">break</span>;    </div><div class="line"></div><div class="line">            &#125;    </div><div class="line"></div><div class="line">        &#125;    </div><div class="line">        a.recycle();</div></pre></td></tr></table></figure>
<h2 id="也就是先获取了自定义属性的目录索引值，然后通过switch进行与我们的attrs-xml相匹配，最后进行取值。"><a href="#也就是先获取了自定义属性的目录索引值，然后通过switch进行与我们的attrs-xml相匹配，最后进行取值。" class="headerlink" title="也就是先获取了自定义属性的目录索引值，然后通过switch进行与我们的attrs.xml相匹配，最后进行取值。"></a><strong>也就是先获取了自定义属性的目录索引值，然后通过switch进行与我们的attrs.xml相匹配，最后进行取值。</strong></h2><h4 id="这样咋看没有什么问题，在这篇博文也没什么问题，"><a href="#这样咋看没有什么问题，在这篇博文也没什么问题，" class="headerlink" title="这样咋看没有什么问题，在这篇博文也没什么问题，"></a>这样咋看没有什么问题，在这篇博文也没什么问题，</h4><h4 id="但是如果我们想偷点懒，不在xml中写出任何我们的自定义属性，这时会发生什么？"><a href="#但是如果我们想偷点懒，不在xml中写出任何我们的自定义属性，这时会发生什么？" class="headerlink" title="但是如果我们想偷点懒，不在xml中写出任何我们的自定义属性，这时会发生什么？"></a>但是如果我们想偷点懒，不在xml中写出任何我们的自定义属性，这时会发生什么？</h4><h4 id="你肯定会说当然是取代码中你写的默认值啊，非也，非也。照这种写法是不能取到任何默认值！"><a href="#你肯定会说当然是取代码中你写的默认值啊，非也，非也。照这种写法是不能取到任何默认值！" class="headerlink" title="你肯定会说当然是取代码中你写的默认值啊，非也，非也。照这种写法是不能取到任何默认值！"></a>你肯定会说当然是取代码中你写的默认值啊，非也，非也。照这种写法是不能取到任何默认值！</h4><h4 id="为什么？看看叛徒的那个句子（明显长的不一样，那么胖还说不是叛徒），理解到了吗？"><a href="#为什么？看看叛徒的那个句子（明显长的不一样，那么胖还说不是叛徒），理解到了吗？" class="headerlink" title="为什么？看看叛徒的那个句子（明显长的不一样，那么胖还说不是叛徒），理解到了吗？"></a>为什么？看看叛徒的那个句子（明显长的不一样，那么胖还说不是叛徒），理解到了吗？</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">context.getTheme().obtainStyledAttributes(attrs, R.styleable.CustomTitleView, defStyle, <span class="number">0</span>);</div></pre></td></tr></table></figure>
<h4 id="是通过查询我们使用自定义View的时候里面所写出的值，准确的说是保存所有我们写出的值，比如上文中的："><a href="#是通过查询我们使用自定义View的时候里面所写出的值，准确的说是保存所有我们写出的值，比如上文中的：" class="headerlink" title="是通过查询我们使用自定义View的时候里面所写出的值，准确的说是保存所有我们写出的值，比如上文中的："></a>是通过查询我们使用自定义View的时候里面所写出的值，准确的说是保存所有我们写出的值，比如上文中的：</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">android:layout_width="200dp"    </div><div class="line">        android:layout_height="100dp"    </div><div class="line">        custom:titleText="3712"    </div><div class="line">        custom:titleTextColor="#ff0000"    </div><div class="line">        custom:titleTextSize="40sp"</div></pre></td></tr></table></figure>
<h4 id="它就会找到，Android-layout-width-android-layout-height-custom-titleText-custom-titleTextColor-custom-titleTextSize。这几组值"><a href="#它就会找到，Android-layout-width-android-layout-height-custom-titleText-custom-titleTextColor-custom-titleTextSize。这几组值" class="headerlink" title="它就会找到，Android:layout_width,android:layout_height,custom:titleText,custom:titleTextColor,custom:titleTextSize。这几组值."></a>它就会找到，Android:layout_width,android:layout_height,custom:titleText,custom:titleTextColor,custom:titleTextSize。这几组值.</h4><h4 id="但是如果我们自定义的属性不写上去呢？只是想控制个控件的大小（事实证明很多情况下你的确不太会去改变控件的其他属性，除非你需要），就会变成只找到android-layout-width-android-layout-height。这时候如果你再通过Switch（）去匹配的话，除了android-layout-width-android-layout-height两个分支，其他的都不会被执行，既然没有执行，那么默认值如何取得出？"><a href="#但是如果我们自定义的属性不写上去呢？只是想控制个控件的大小（事实证明很多情况下你的确不太会去改变控件的其他属性，除非你需要），就会变成只找到android-layout-width-android-layout-height。这时候如果你再通过Switch（）去匹配的话，除了android-layout-width-android-layout-height两个分支，其他的都不会被执行，既然没有执行，那么默认值如何取得出？" class="headerlink" title="但是如果我们自定义的属性不写上去呢？只是想控制个控件的大小（事实证明很多情况下你的确不太会去改变控件的其他属性，除非你需要），就会变成只找到android:layout_width,android:layout_height。这时候如果你再通过Switch（）去匹配的话，除了android:layout_width,android:layout_height两个分支，其他的都不会被执行，既然没有执行，那么默认值如何取得出？"></a>但是如果我们自定义的属性不写上去呢？只是想控制个控件的大小（事实证明很多情况下你的确不太会去改变控件的其他属性，除非你需要），就会变成只找到android:layout_width,android:layout_height。这时候如果你再通过Switch（）去匹配的话，除了android:layout_width,android:layout_height两个分支，其他的都不会被执行，既然没有执行，那么默认值如何取得出？</h4><h4 id="找到了问题所在，我们就要解决了，解决也很简单，去掉获取目录，不使用switch-语句，每个属性都这样获取："><a href="#找到了问题所在，我们就要解决了，解决也很简单，去掉获取目录，不使用switch-语句，每个属性都这样获取：" class="headerlink" title="找到了问题所在，我们就要解决了，解决也很简单，去掉获取目录，不使用switch()语句，每个属性都这样获取："></a>找到了问题所在，我们就要解决了，解决也很简单，去掉获取目录，不使用switch()语句，每个属性都这样获取：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">TypedArray a = context.getTheme().obtainStyledAttributes(attrs, R.styleable.CustomTitleView, defStyle, <span class="number">0</span>);</div><div class="line"><span class="comment">// 默认颜色设置为黑色    </span></div><div class="line">                mTitleTextColor = a.getColor(attr, Color.BLACK);</div></pre></td></tr></table></figure>
<h4 id="这样就能保证每个想要设置默认值的能正确的被设置默认值了。"><a href="#这样就能保证每个想要设置默认值的能正确的被设置默认值了。" class="headerlink" title="这样就能保证每个想要设置默认值的能正确的被设置默认值了。"></a>这样就能保证每个想要设置默认值的能正确的被设置默认值了。</h4><h4 id="有问题欢迎指正，如引用的部分文字有侵权，请告知我，我会立即处理、"><a href="#有问题欢迎指正，如引用的部分文字有侵权，请告知我，我会立即处理、" class="headerlink" title="有问题欢迎指正，如引用的部分文字有侵权，请告知我，我会立即处理、"></a>有问题欢迎指正，如引用的部分文字有侵权，请告知我，我会立即处理、</h4>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://WinterSmileSB101.online/2017/03/22/根据设置的日期获取星期几/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WinterSmileSB101">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WinterSmileSB101 的个人房间">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/根据设置的日期获取星期几/" itemprop="url">
                  Android 根据设置的日期获取星期几
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-22T14:31:13+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/Android-实战/" itemprop="url" rel="index">
                    <span itemprop="name">Android 实战</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>版权声明：本文为转载，出处未知，知道出处可以联系<a href="mailto:891532752@qq.com" target="_blank" rel="external">我</a>。</p>
</blockquote>
<h3 id="有个注意的点：就是包的引入，你的对应版本是24和以上就引入Android-icu-util包版本是24以下就引入Java-util包"><a href="#有个注意的点：就是包的引入，你的对应版本是24和以上就引入Android-icu-util包版本是24以下就引入Java-util包" class="headerlink" title="有个注意的点：就是包的引入，你的对应版本是24和以上就引入Android.icu.util包版本是24以下就引入Java.util包"></a>有个注意的点：就是包的引入，你的对应版本是24和以上就引入Android.icu.util包版本是24以下就引入Java.util包</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line">  * 判断当前日期是星期几</div><div class="line">  *</div><div class="line">  * <span class="doctag">@param</span>  pTime     设置的需要判断的时间  //格式如2012-09-08</div><div class="line">  *  </div><div class="line">  * <span class="doctag">@return</span> dayForWeek 判断结果</div><div class="line">  * <span class="doctag">@Exception</span> 发生异常</div><div class="line">  */</div><div class="line"><span class="comment">//  String pTime = "2012-03-12";</span></div><div class="line"> <span class="function"><span class="keyword">private</span> String <span class="title">getWeek</span><span class="params">(String pTime)</span> </span>&#123;</div><div class="line"></div><div class="line">  String Week = <span class="string">""</span>;</div><div class="line"></div><div class="line">  SimpleDateFormat format = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>);</div><div class="line">  Calendar c = Calendar.getInstance();</div><div class="line">  <span class="keyword">try</span> &#123;</div><div class="line">   c.setTime(format.parse(pTime));</div><div class="line">  &#125; <span class="keyword">catch</span> (ParseException e) &#123;</div><div class="line">   <span class="comment">// TODO Auto-generated catch block</span></div><div class="line">   e.printStackTrace();</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (c.get(Calendar.DAY_OF_WEEK) == <span class="number">1</span>) &#123;</div><div class="line">   Week += <span class="string">"天"</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (c.get(Calendar.DAY_OF_WEEK) == <span class="number">2</span>) &#123;</div><div class="line">   Week += <span class="string">"一"</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (c.get(Calendar.DAY_OF_WEEK) == <span class="number">3</span>) &#123;</div><div class="line">   Week += <span class="string">"二"</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (c.get(Calendar.DAY_OF_WEEK) == <span class="number">4</span>) &#123;</div><div class="line">   Week += <span class="string">"三"</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (c.get(Calendar.DAY_OF_WEEK) == <span class="number">5</span>) &#123;</div><div class="line">   Week += <span class="string">"四"</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (c.get(Calendar.DAY_OF_WEEK) == <span class="number">6</span>) &#123;</div><div class="line">   Week += <span class="string">"五"</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span> (c.get(Calendar.DAY_OF_WEEK) == <span class="number">7</span>) &#123;</div><div class="line">   Week += <span class="string">"六"</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> Week;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://WinterSmileSB101.online/2017/03/22/Okhttp获取中文网页乱码的解决方式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="WinterSmileSB101">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WinterSmileSB101 的个人房间">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/Okhttp获取中文网页乱码的解决方式/" itemprop="url">
                  Okhttp获取中文网页乱码的解决方式
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-22T14:20:15+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/Android-实战/" itemprop="url" rel="index">
                    <span itemprop="name">Android 实战</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>版权声明：本文为转载，出处未知，知道出处可以联系<a href="mailto: 891532752@qq.com" target="_blank" rel="external">我</a>。</p>
</blockquote>
<h3 id="OkHttp-post请求编码问题-解决放法"><a href="#OkHttp-post请求编码问题-解决放法" class="headerlink" title="OkHttp post请求编码问题 解决放法"></a>OkHttp post请求编码问题 解决放法</h3><h3 id="在回调方法onResponse方法中"><a href="#在回调方法onResponse方法中" class="headerlink" title="在回调方法onResponse方法中"></a>在回调方法onResponse方法中</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">byte</span>[] b = response.body().bytes(); <span class="comment">//获取数据的bytes</span></div><div class="line">String info = <span class="keyword">new</span> String(b, <span class="string">"GB2312"</span>); <span class="comment">//然后将其转为gb2312</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="WinterSmileSB101" />
          <p class="site-author-name" itemprop="name">WinterSmileSB101</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">43</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">96</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="http://blog.csdn.net/qq_21265915/rss/list" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2017.3.20 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">WinterSmileSB101</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  






  





  

  

  

  

</body>
</html>
